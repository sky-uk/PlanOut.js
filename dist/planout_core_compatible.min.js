!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.PlanOut=b():a.PlanOut=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var f=c(1),g=e(f),h=c(2),i=e(h),j=c(8),k=e(j),l=c(4),m=e(l),n=c(5),o=d(n),p=c(6),q=e(p),r=c(7),s=e(r);b["default"]={Namespace:o,Assignment:q["default"],Interpreter:i["default"],Experiment:g["default"],ExperimentSetup:s["default"],Ops:{Random:k["default"],Core:m["default"]}},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(6),h=d(g),i=c(9),j=function(){function a(b){e(this,a),this.inputs=b,this._exposureLogged=!1,this._salt=null,this._inExperiment=!0,this.name=this.getDefaultExperimentName(),this._autoExposureLog=!0,this.setup(),this._assignment=new h["default"](this.getSalt()),this._assigned=!1}return f(a,[{key:"getDefaultExperimentName",value:function(){if((0,i.isObject)(this)&&this.constructor&&this!==this.window){var a=this.constructor.toString().match(/function\s*(\w+)/);if(a&&2===a.length)return a[1]}return"GenericExperiment"}},{key:"getDefaultParamNames",value:function(){var a=this.assign.toString(),b=a.split(".set(");return b.splice(0,1),(0,i.map)(b,function(a){var b=(0,i.trimTrailingWhitespace)(a.split(",")[0]);return b.substr(1,b.length-2)})}},{key:"requireAssignment",value:function(){this._assigned||this._assign()}},{key:"requireExposureLogging",value:function(a){this.shouldLogExposure(a)&&this.logExposure()}},{key:"_assign",value:function(){this.configureLogger();var a=this.assign(this._assignment,this.inputs);a||void 0===a?this._inExperiment=!0:this._inExperiment=!1,this._assigned=!0}},{key:"setup",value:function(){}},{key:"inExperiment",value:function(){return this._inExperiment}},{key:"addOverride",value:function(a,b){this._assignment.addOverride(a,b)}},{key:"setOverrides",value:function(a){this._assignment.setOverrides(a);var b=this._assignment.getOverrides(),c=this;(0,i.forEach)(Object.keys(b),function(a){void 0!==c.inputs[a]&&(c.inputs[a]=b[a])})}},{key:"getSalt",value:function(){return this._salt?this._salt:this.name}},{key:"setSalt",value:function(a){this._salt=a,this._assignment&&(this._assignment.experimentSalt=a)}},{key:"getName",value:function(){return this.name}},{key:"assign",value:function(a,b){throw"IMPLEMENT assign"}},{key:"getParamNames",value:function(){throw"IMPLEMENT getParamNames"}},{key:"shouldFetchExperimentParameter",value:function(a){var b=this.getParamNames();return b.indexOf(a)>=0}},{key:"setName",value:function(a){var b=/\s+/g;this.name=a.replace(b,"-"),this._assignment&&(this._assignment.experimentSalt=this.getSalt())}},{key:"__asBlob",value:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b={name:this.getName(),time:(new Date).getTime()/1e3,salt:this.getSalt(),inputs:this.inputs,params:this._assignment.getParams()};return(0,i.extend)(b,a),b}},{key:"setAutoExposureLogging",value:function(a){this._autoExposureLog=a}},{key:"getParams",value:function(){return this.requireAssignment(),this.requireExposureLogging(),this._assignment.getParams()}},{key:"get",value:function(a,b){return this.requireAssignment(),this.requireExposureLogging(a),this._assignment.get(a,b)}},{key:"toString",value:function(){return this.requireAssignment(),this.requireExposureLogging(),JSON.stringify(this.__asBlob())}},{key:"logExposure",value:function(a){this.inExperiment()&&(this._exposureLogged=!0,this.logEvent("exposure",a))}},{key:"shouldLogExposure",value:function(a){return!(void 0!==a&&!this.shouldFetchExperimentParameter(a))&&(this._autoExposureLog&&!this.previouslyLogged())}},{key:"logEvent",value:function(a,b){if(this.inExperiment()){var c;c=b?{event:a,extra_data:(0,i.shallowCopy)(b)}:{event:a},this.log(this.__asBlob(c))}}},{key:"configureLogger",value:function(){throw"IMPLEMENT configureLogger"}},{key:"log",value:function(a){throw"IMPLEMENT log"}},{key:"previouslyLogged",value:function(){throw"IMPLEMENT previouslyLogged"}}]),a}();b["default"]=j,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(6),h=d(g),i=c(11),j=c(9),k=function(){function a(b,c,d,f){void 0===c&&(c="global_salt"),void 0===d&&(d={}),e(this,a),this._serialization=b,f?this._env=f:this._env=new h["default"](c),this.experimentSalt=this._experimentSalt=c,this._evaluated=!1,this._inExperiment=!1,this._inputs=(0,j.shallowCopy)(d)}return f(a,[{key:"inExperiment",value:function(){return this._inExperiment}},{key:"setEnv",value:function(a){return this._env=(0,j.deepCopy)(a),this}},{key:"has",value:function(a){return this._env[a]}},{key:"get",value:function(a,b){var c=this._inputs[a];c||(c=b);var d=this._env.get(a);return d?d:c}},{key:"getParams",value:function(){if(!this._evaluated){try{this.evaluate(this._serialization)}catch(a){a instanceof i.StopPlanOutException&&(this._inExperiment=a.inExperiment)}this._evaluated=!0}return this._env.getParams()}},{key:"set",value:function(a,b){return this._env.set(a,b),this}},{key:"setOverrides",value:function(a){return this._env.setOverrides(a),this}},{key:"getOverrides",value:function(){return this._env.getOverrides()}},{key:"hasOverride",value:function(a){var b=this.getOverrides();return b&&void 0!==b[a]}},{key:"evaluate",value:function(a){if((0,j.isObject)(a)&&a.op)return(0,i.operatorInstance)(a).execute(this);if((0,j.isArray)(a)){var b=this;return(0,j.map)(a,function(a){return b.evaluate(a)})}return a}}]),a}();b["default"]=k,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=c(10),j=c(12),k=d(j),l=c(9),m=function(a){function b(a){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,a),this.LONG_SCALE=0xfffffffffffff}return f(b,a),g(b,[{key:"compatHashCalculation",value:function(a){return parseInt(a.substr(0,13),16)}},{key:"compatZeroToOneCalculation",value:function(a){return this.getHash(a)/this.LONG_SCALE}},{key:"getUnit",value:function(a){var b=this.getArgMixed("unit");return(0,l.isArray)(b)||(b=[b]),a&&b.push(a),b}},{key:"getUniform",value:function(a,b,c){void 0===a&&(a=0),void 0===b&&(b=1);var d=this.compatZeroToOneCalculation(c);return d*(b-a)+a}},{key:"getHash",value:function(a){var b;if(this.args.full_salt)b=this.getArgString("full_salt");else{var c=this.getArgString("salt");b=this.mapper.get("experimentSalt")+"."+c}var d=this.getUnit(a).map(function(a){return String(a)}).join("."),e=b+"."+d,f=(0,k["default"])(e);return this.compatHashCalculation(f)}}]),b}(i.PlanOutOpSimple),n=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),g(b,[{key:"simpleExecute",value:function(){var a=this.getArgNumber("min"),b=this.getArgNumber("max");return this.getUniform(a,b)}}]),b}(m),o=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),g(b,[{key:"compatRandomIntegerCalculation",value:function(a,b){return(this.getHash()+a)%(b-a+1)}},{key:"simpleExecute",value:function(){var a=this.getArgNumber("min"),b=this.getArgNumber("max");return this.compatRandomIntegerCalculation(a,b)}}]),b}(m),p=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),g(b,[{key:"simpleExecute",value:function(){var a=this.getArgNumber("p");if(a<0||a>1)throw"Invalid probability";return this.getUniform(0,1)<=a?1:0}}]),b}(m),q=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),g(b,[{key:"simpleExecute",value:function(){var a=this.getArgNumber("p"),b=this.getArgList("choices");if(a<0||a>1)throw"Invalid probability";if(0==b.length)return[];for(var c=[],d=0;d<b.length;d++){var e=b[d];this.getUniform(0,1,e)<=a&&c.push(e)}return c}}]),b}(m),r=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),g(b,[{key:"compatRandomIndexCalculation",value:function(a){return this.getHash()%a.length}},{key:"simpleExecute",value:function(){var a=this.getArgList("choices");if(0===a.length)return[];var b=this.compatRandomIndexCalculation(a);return a[b]}}]),b}(m),s=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),g(b,[{key:"simpleExecute",value:function(){var a=this.getArgList("choices"),b=this.getArgList("weights");if(0===a.length)return[];var c=0,d=b.map(function(a){return c+=a}),e=this.getUniform(0,c);return(0,l.reduce)(d,function(b,c,d){return b?b:e<=c?a[d]:b},null)}}]),b}(m),t=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),g(b,[{key:"compatSampleIndexCalculation",value:function(a){return this.getHash(a)%(a+1)}},{key:"compatAllowSampleStoppingPoint",value:function(){return!0}},{key:"sample",value:function(a,b){for(var c=a.length,d=c-b,e=this.compatAllowSampleStoppingPoint(),f=c-1;f>0;f--){var g=this.compatSampleIndexCalculation(f),h=a[f];if(a[f]=a[g],a[g]=h,e&&d===f)return a.slice(f,c)}return a.slice(0,b)}},{key:"simpleExecute",value:function(){var a=(0,l.shallowCopy)(this.getArgList("choices")),b=0;return b=void 0!==this.args.draws?this.getArgNumber("draws"):a.length,this.sample(a,b)}}]),b}(m);b["default"]={PlanOutOpRandom:m,Sample:t,WeightedChoice:s,UniformChoice:r,BernoulliFilter:q,BernoulliTrial:p,RandomInteger:o,RandomFloat:n},a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},h=c(10),i=c(11),j=c(9),k=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"execute",value:function(a){return this.getArgMixed("value")}}]),b}(h.PlanOutOp),l=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"execute",value:function(a){return a.get(this.getArgString("var"))}}]),b}(h.PlanOutOp),m=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"execute",value:function(a){(0,j.forEach)(this.getArgList("seq"),function(b){a.evaluate(b)})}}]),b}(h.PlanOutOp),n=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"execute",value:function(a){var b=a.evaluate(this.getArgMixed("value")),c=!1;throw b&&(c=!0),new i.StopPlanOutException(c)}}]),b}(h.PlanOutOp),o=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"execute",value:function(a){var b=this.getArgString("var"),c=this.getArgMixed("value");a.hasOverride(b)||((0,i.isOperator)(c)&&!c.salt&&(c.salt=b),"experimentSalt"==b&&(a.experimentSalt=c),a.set(b,a.evaluate(c)))}}]),b}(h.PlanOutOp),p=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"execute",value:function(a){return(0,j.map)(this.getArgList("values"),function(b){return a.evaluate(b)})}}]),b}(h.PlanOutOp),q=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"execute",value:function(a){for(var b=this.getArgList("values"),c=0;c<b.length;c++){var d=b[c],e=a.evaluate(d);if(null!==e&&void 0!==e)return e}return null}}]),b}(h.PlanOutOp),r=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"simpleExecute",value:function(){var a=this.getArgIndexish("base"),b=this.getArgMixed("index");return"number"==typeof b?b>=0&&b<a.length?a[b]:void 0:a[b]}}]),b}(h.PlanOutOpSimple),s=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"execute",value:function(a){var b=this.getArgList("cond");for(var c in b){var d=b[c]["if"],e=b[c].then;if(a.evaluate(d))return a.evaluate(e)}return null}}]),b}(h.PlanOutOp),t=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"execute",value:function(a){return(0,j.reduce)(this.getArgList("values"),function(b,c){return b?Boolean(a.evaluate(c)):b},!0)}}]),b}(h.PlanOutOp),u=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"execute",value:function(a){return(0,j.reduce)(this.getArgList("values"),function(b,c){return b?b:Boolean(a.evaluate(c))},!1)}}]),b}(h.PlanOutOp),v=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"commutativeExecute",value:function(a){return(0,j.reduce)(a,function(a,b){return a*b},1)}}]),b}(h.PlanOutOpCommutative),w=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"commutativeExecute",value:function(a){return(0,j.reduce)(a,function(a,b){return a+b},0)}}]),b}(h.PlanOutOpCommutative),x=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"getInfixString",value:function(){return"=="}},{key:"binaryExecute",value:function(a,b){return a===b}}]),b}(h.PlanOutOpBinary),y=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"binaryExecute",value:function(a,b){return a>b}}]),b}(h.PlanOutOpBinary),z=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"binaryExecute",value:function(a,b){return a<b}}]),b}(h.PlanOutOpBinary),A=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"binaryExecute",value:function(a,b){return a<=b}}]),b}(h.PlanOutOpBinary),B=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"binaryExecute",value:function(a,b){return a>=b}}]),b}(h.PlanOutOpBinary),C=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"binaryExecute",value:function(a,b){return a%b}}]),b}(h.PlanOutOpBinary),D=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"binaryExecute",value:function(a,b){return parseFloat(a)/parseFloat(b)}}]),b}(h.PlanOutOpBinary),E=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"unaryExecute",value:function(a){return Math.round(a)}}]),b}(h.PlanOutOpBinary),F=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"getUnaryString",value:function(){return"!"}},{key:"unaryExecute",value:function(a){return!a}}]),b}(h.PlanOutOpUnary),G=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"getUnaryString",value:function(){return"-"}},{key:"unaryExecute",value:function(a){return 0-a}}]),b}(h.PlanOutOpUnary),H=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"commutativeExecute",value:function(a){return Math.min.apply(null,a)}}]),b}(h.PlanOutOpCommutative),I=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"commutativeExecute",value:function(a){return Math.max.apply(null,a)}}]),b}(h.PlanOutOpCommutative),J=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"unaryExecute",value:function(a){return a.length}}]),b}(h.PlanOutOpUnary),K=function(a){function b(){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return e(b,a),f(b,[{key:"simpleExecute",value:function(){var a=(0,j.deepCopy)(this.args);return delete a.op,delete a.salt,a}}]),b}(h.PlanOutOpSimple);b.Literal=k,b.Get=l,b.Seq=m,b.Set=o,b.Arr=p,b.Map=K,b.Coalesce=q,b.Index=r,b.Cond=s,b.And=t,b.Or=u,b.Product=v,b.Sum=w,b.Equals=x,b.GreaterThan=y,b.LessThan=z,b.LessThanOrEqualTo=A,b.GreaterThanOrEqualTo=B,b.Mod=C,b.Divide=D,b.Round=E,b.Not=F,b.Negative=G,b.Min=H,b.Max=I,b.Length=J,b.Return=n},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=c(1),j=d(i),k=c(6),l=d(k),m=c(3),n=c(9),o=c(7),p=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),g(b,[{key:"configureLogger",value:function(){}},{key:"setup",value:function(){this.name="test_name"}},{key:"log",value:function(a){}},{key:"getParamNames",value:function(){return this.getDefaultParamNames()}},{key:"previouslyLogged",value:function(){return!0}},{key:"assign",value:function(a,b){}}]),b}(j["default"]),q=function(){function a(){e(this,a)}return g(a,[{key:"addExperiment",value:function(a,b,c){throw"IMPLEMENT addExperiment"}},{key:"removeExperiment",value:function(a){throw"IMPLEMENT removeExperiment"}},{key:"setAutoExposureLogging",value:function(a){throw"IMPLEMENT setAutoExposureLogging"}},{key:"inExperiment",value:function(){throw"IMPLEMENT inExperiment"}},{key:"get",value:function(a,b){throw"IMPLEMENT get"}},{key:"logExposure",value:function(a){throw"IMPLEMENT logExposure"}},{key:"logEvent",value:function(a,b){throw"IMPLEMENT logEvent"}},{key:"requireExperiment",value:function(){this._experiment||this._assignExperiment()}},{key:"requireDefaultExperiment",value:function(){this._defaultExperiment||this._assignDefaultExperiment()}}]),a}(),r=function(a){function b(a){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,a),this.name=this.getDefaultNamespaceName(),this.inputs=a||{},this.numSegments=1,this.segmentAllocations={},this.currentExperiments={},this._experiment=null,this._defaultExperiment=null,this.defaultExperimentClass=p,this._inExperiment=!1,this.setupDefaults(),this.setup(),this.availableSegments=(0,n.range)(this.numSegments),this.setupExperiments()}return f(b,a),g(b,[{key:"setupDefaults",value:function(){}},{key:"setup",value:function(){throw"IMPLEMENT setup"}},{key:"setupExperiments",value:function(){throw"IMPLEMENT setupExperiments"}},{key:"getPrimaryUnit",value:function(){return this._primaryUnit}},{key:"allowedOverride",value:function(){return!1}},{key:"getOverrides",value:function(){return{}}},{key:"setPrimaryUnit",value:function(a){this._primaryUnit=a}},{key:"addExperiment",value:function(a,b,c){var d=this.availableSegments.length;if(d<c)return!1;if(void 0!==this.currentExperiments[a])return!1;var e=new l["default"](this.name);e.set("sampled_segments",new m.Sample({choices:this.availableSegments,draws:c,unit:a}));for(var f=e.get("sampled_segments"),g=0;g<f.length;g++){this.segmentAllocations[f[g]]=a;var h=this.availableSegments.indexOf(f[g]);this.availableSegments[h]=this.availableSegments[d-1],this.availableSegments.splice(d-1,1),d-=1}this.currentExperiments[a]=b}},{key:"removeExperiment",value:function(a){var b=this;return void 0!==this.currentExperiments[a]&&((0,n.forEach)(Object.keys(this.segmentAllocations),function(c){b.segmentAllocations[c]===a&&(delete b.segmentAllocations[c],b.availableSegments.push(c))}),delete this.currentExperiments[a],!0)}},{key:"getSegment",value:function(){var a=new l["default"](this.name),b=new m.RandomInteger({min:0,max:this.numSegments-1,unit:this.inputs[this.getPrimaryUnit()]});return a.set("segment",b),a.get("segment")}},{key:"_assignExperiment",value:function(){this.inputs=(0,n.extend)(this.inputs,(0,o.getExperimentInputs)(this.getName()));var a=this.getSegment();if(void 0!==this.segmentAllocations[a]){var b=this.segmentAllocations[a];this._assignExperimentObject(b)}}},{key:"_assignExperimentObject",value:function(a){var b=new this.currentExperiments[a](this.inputs);b.setName(this.getName()+"-"+a),b.setSalt(this.getName()+"-"+a),this._experiment=b,this._inExperiment=b.inExperiment(),this._inExperiment||this._assignDefaultExperiment()}},{key:"_assignDefaultExperiment",value:function(){this._defaultExperiment=new this.defaultExperimentClass(this.inputs)}},{key:"defaultGet",value:function(a,c){return h(Object.getPrototypeOf(b.prototype),"requireDefaultExperiment",this).call(this),this._defaultExperiment.get(a,c)}},{key:"getName",value:function(){return this.name}},{key:"setName",value:function(a){this.name=a}},{key:"previouslyLogged",value:function(){return this._experiment?this._experiment.previouslyLogged():null}},{key:"inExperiment",value:function(){return h(Object.getPrototypeOf(b.prototype),"requireExperiment",this).call(this),this._inExperiment}},{key:"setAutoExposureLogging",value:function(a){this._autoExposureLoggingSet=a,this._defaultExperiment&&this._defaultExperiment.setAutoExposureLogging(a),this._experiment&&this._experiment.setAutoExposureLogging(a)}},{key:"setGlobalOverride",value:function(a){var b=this.getOverrides();if(b&&(0,n.hasKey)(b,a)){var c=b[a];c&&(0,n.hasKey)(this.currentExperiments,c.experimentName)&&(this._assignExperimentObject(c.experimentName),this._experiment.addOverride(a,c.value))}}},{key:"setLocalOverride",value:function(a){var b=(0,n.getParameterByName)("experimentOverride");b&&(0,n.hasKey)(this.currentExperiments,b)&&(this._assignExperimentObject(b),(0,n.getParameterByName)(a)&&this._experiment.addOverride(a,(0,n.getParameterByName)(a)))}},{key:"getParams",value:function(a){return h(Object.getPrototypeOf(b.prototype),"requireExperiment",this).call(this),this._experiment&&this.getOriginalExperimentName()===a?this._experiment.getParams():null}},{key:"getOriginalExperimentName",value:function(){return this._experiment?this._experiment.getName().split("-")[1]:null}},{key:"get",value:function(a,c){return h(Object.getPrototypeOf(b.prototype),"requireExperiment",this).call(this),this.allowedOverride()&&this.setGlobalOverride(a),this.setLocalOverride(a),this._experiment?(void 0!==this._autoExposureLoggingSet&&this._experiment.setAutoExposureLogging(this._autoExposureLoggingSet),this._experiment.get(a,this.defaultGet(a,c))):this.defaultGet(a,c)}},{key:"logExposure",value:function(a){h(Object.getPrototypeOf(b.prototype),"requireExperiment",this).call(this),this._experiment&&this._experiment.logExposure(a)}},{key:"logEvent",value:function(a,c){h(Object.getPrototypeOf(b.prototype),"requireExperiment",this).call(this),this._experiment&&this._experiment.logEvent(a,c)}},{key:"getDefaultNamespaceName",value:function(){if((0,n.isObject)(this)&&this.constructor&&this!==this.window){var a=this.constructor.toString().match(/function\s*(\w+)/);if(a&&2===a.length)return a[1]}return"GenericNamespace"}}]),b}(q);b.Namespace=q,b.SimpleNamespace=r},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(3),g=c(9),h=function(){function a(b,c){d(this,a),c||(c={}),this.experimentSalt=b,this._overrides=(0,g.shallowCopy)(c),this._data=(0,g.shallowCopy)(c)}return e(a,[{key:"evaluate",value:function(a){return a}},{key:"getOverrides",value:function(){return this._overrides}},{key:"addOverride",value:function(a,b){this._overrides[a]=b,this._data[a]=b}},{key:"setOverrides",value:function(a){this._overrides=(0,g.shallowCopy)(a);var b=this;(0,g.forEach)(Object.keys(this._overrides),function(a){b._data[a]=b._overrides[a]})}},{key:"set",value:function(a,b){return"_data"===a?void(this._data=b):"_overrides"===a?void(this._overrides=b):"experimentSalt"===a?void(this.experimentSalt=b):void((0,g.hasKey)(this._overrides,a)||(b instanceof f.PlanOutOpRandom?(b.args.salt||(b.args.salt=a),this._data[a]=b.execute(this)):this._data[a]=b))}},{key:"get",value:function(a){return"_data"===a?this._data:"_overrides"===a?this._overrides:"experimentSalt"===a?this.experimentSalt:this._data[a]}},{key:"getParams",value:function(){return this._data}},{key:"del",value:function(a){delete this._data[a]}},{key:"toString",value:function(){return String(this._data)}},{key:"length",value:function(){return Object.keys(this._data).length}}]),a}();b["default"]=h,a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(9),e={},f={},g=function(a){return a?h((0,d.shallowCopy)(a)):{}},h=function(a){return(0,d.forEach)(Object.keys(a),function(b){(0,d.isFunction)(a[b])&&(a[b]=a[b]())}),a},i=function(a,b,c){c?(f[c]||(f[c]={}),f[c][a]=b):e[a]=b},j=function(a){var b=g(e);return a&&f[a]?(0,d.extend)(b,g(f[a])):b};b["default"]={registerExperimentInput:i,getExperimentInputs:j},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},i=c(3),j=c(13),k=d(j),l=function(a){function b(a){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,a),this.LONG_SCALE=new k["default"]("FFFFFFFFFFFFFFF",16)}return f(b,a),g(b,[{key:"compatHashCalculation",value:function(a){return new k["default"](a.substr(0,15),16)}},{key:"compatZeroToOneCalculation",value:function(a){return this.getHash(a).dividedBy(this.LONG_SCALE).toNumber()}}]),b}(i.PlanOutOpRandom),m=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),g(b,[{key:"compatRandomIntegerCalculation",value:function(a,b){return this.getHash().plus(a).modulo(b-a+1).toNumber()}}]),b}(i.RandomInteger),n=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),g(b,[{key:"compatRandomIndexCalculation",value:function(a){this.getHash().modulo(a.length).toNumber()}}]),b}(i.UniformChoice),o=function(a){function b(){e(this,b),h(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return f(b,a),g(b,[{key:"compatSampleIndexCalculation",value:function(a){return this.getHash(a).modulo(a+1).toNumber();
}},{key:"compatAllowSampleStoppingPoint",value:function(){return!1}}]),b}(i.Sample);b["default"]={PlanOutOpRandom:l,Sample:o,WeightedChoice:i.WeightedChoice,UniformChoice:n,BernoulliFilter:i.BernoulliFilter,BernoulliTrial:i.BernoulliTrial,RandomInteger:m,RandomFloat:i.RandomFloat},a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){var c=E.length,d=a.constructor,e=j(d)&&d.prototype||Object.Prototype,f="constructor";for(C(a,f)&&!F(b,f)&&b.push(f);c--;)f=E[c],f in a&&a[f]!==e[f]&&!F(b,f)&&b.push(f)}Object.defineProperty(b,"__esModule",{value:!0});var e=function(a){return a.replace(/^\s+|\s+$/g,"")},f=function(a){var b,c="undefined"!=typeof location,d="undefined"!=typeof window;if(c){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+a+"=([^&#]*)"),f=e.exec(location.search);b=null===f?"":decodeURIComponent(f[1].replace(/\+/g," "))}else b="";return null!==b&&void 0!==b&&0!==b.length||!d||void 0===window.localStorage||null===window.localStorage?b:window.localStorage.getItem(a)},g=function I(a){var b=a;if(a&&"object"==typeof a){b="[object Array]"===Object.prototype.toString.call(a)?[]:{};for(var c in a)b[c]=I(a[c])}return b},h=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},i=function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(planout_code)},j=function(a){return"function"==typeof a||!1},k=function J(a){if(!h(a))return[];if(Object.keys)return Object.keys(a);var J=[];for(var b in a)C(a,b)&&J.push(b);return D&&d(a,J),J},l=function(a){if(!h(a))return[];var b=[];for(var c in a)b.push(c);return D&&d(a,b),b},m=function(a,b){return function(c){var d=arguments.length;if(d<2||null==c)return c;for(var e=1;e<d;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;i<h;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}},n=m(l),o=m(k),p=function(a){return a},q=function(a,b){var c=c(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;f<d;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0},r=function(a){return a=o({},a),function(b){return q(b,a)}},s=function(a,b,c){return null==a?p:j(a)?t(a,b,c):h(a)?r(a):y(a)},t=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},u=function(a,b,c){b=t(b,c);var d,e;if(B(a))for(d=0,e=a.length;d<e;d++)b(a[d],d,a);else{var f=f(a);for(d=0,e=f.length;d<e;d++)b(a[f[d]],f[d],a)}return a},v=function(a,b,c){b=s(b,c);for(var d=!B(a)&&d(a),e=(d||a).length,f=Array(e),g=0;g<e;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f},w=function(a,b,c,d){b=t(b,d,4);var e=!B(a)&&e(a),f=(e||a).length,g=0;for(arguments.length<3&&(c=a[e?e[g]:g],g+=1);g>=0&&g<f;g++){var h=e?e[g]:g;c=b(c,a[h],h,a)}return c},x=function(a){return h(a)?i(a)?a.slice():n({},a):a},y=function(a){return function(b){return null==b?void 0:b[a]}},z=Math.pow(2,53)-1,A=y("length"),B=function(a){var b=A(a);return"number"==typeof b&&b>=0&&b<=z},C=function(a,b){return null!=a&&Object.prototype.hasOwnProperty.call(a,b)},D=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(a,b,c,d){return B(a)||(a=values(a)),("number"!=typeof c||d)&&(c=0),a.indexOf(b)>=0},G=function(a){for(var b=[],c=0;c<a;c++)b.push(c);return b},H=function(a,b){return"undefined"!=typeof a[b]};b["default"]={deepCopy:g,map:v,reduce:w,getParameterByName:f,forEach:u,isFunction:j,trimTrailingWhitespace:e,hasKey:H,shallowCopy:x,extend:n,isObject:h,isArray:i,range:G},a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(9),i=function(){function a(b){e(this,a),this.args=b}return g(a,[{key:"execute",value:function(a){throw"Implement this function"}},{key:"dumpArgs",value:function(){console.log(this.args)}},{key:"getArgMixed",value:function(a){if(void 0===this.args[a])throw"Missing argument "+a;return this.args[a]}},{key:"getArgNumber",value:function(a){var b=this.getArgMixed(a);if("number"!=typeof b)throw a+" is not a number.";return b}},{key:"getArgString",value:function(a){var b=this.getArgMixed(a);if("string"!=typeof b)throw a+" is not a string.";return b}},{key:"getArgList",value:function(a){var b=this.getArgMixed(a);if("[object Array]"!==Object.prototype.toString.call(b))throw a+" is not a list";return b}},{key:"getArgObject",value:function(a){var b=this.getArgMixed(a);if("[object Object]"!==Object.prototype.toString.call(b))throw a+" is not an object.";return b}},{key:"getArgIndexish",value:function(a){var b=this.getArgMixed(a),c=Object.prototype.toString.call(b);if("[object Object]"!==c&&"[object Array]"!==c)throw a+" is not an list or object.";return b}}]),a}(),j=function(a){function b(){e(this,b),f(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return d(b,a),g(b,[{key:"execute",value:function(a){this.mapper=a;var b=this;return(0,h.forEach)(Object.keys(this.args),function(c){b.args[c]=a.evaluate(b.args[c])}),this.simpleExecute()}}]),b}(i),k=function(a){function b(){e(this,b),f(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return d(b,a),g(b,[{key:"simpleExecute",value:function(){return this.unaryExecute(this.getArgMixed("value"))}},{key:"getUnaryString",value:function(){return this.args.op}},{key:"unaryExecute",value:function(a){throw"implement this"}}]),b}(j),l=function(a){function b(){e(this,b),f(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return d(b,a),g(b,[{key:"simpleExecute",value:function(){this.getArgMixed("left");return this.binaryExecute(this.getArgMixed("left"),this.getArgMixed("right"))}},{key:"getInfixString",value:function(){return this.args.op}},{key:"binaryExecute",value:function(a,b){throw"implement this"}}]),b}(j),m=function(a){function b(){e(this,b),f(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return d(b,a),g(b,[{key:"simpleExecute",value:function(){return this.commutativeExecute(this.getArgList("values"))}},{key:"getCommutativeString",value:function(){return this.args.op}},{key:"commutativeExecute",value:function(a){throw"implement this"}}]),b}(j);b.PlanOutOp=i,b.PlanOutOpSimple=j,b.PlanOutOpCommutative=m,b.PlanOutOpBinary=l,b.PlanOutOpUnary=k},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=c(4),g=d(f),h=c(3),i=d(h),j=c(9),k=function(){return{literal:g.Literal,get:g.Get,set:g.Set,seq:g.Seq,"return":g.Return,index:g.Index,array:g.Arr,equals:g.Equals,and:g.And,or:g.Or,">":g.GreaterThan,"<":g.LessThan,">=":g.GreaterThanOrEqualTo,"<=":g.LessThanOrEqualTo,"%":g.Mod,"/":g.Divide,not:g.Not,round:g.Round,negative:g.Negative,min:g.Min,max:g.Max,length:g.Length,coalesce:g.Coalesce,map:g.Map,cond:g.Cond,product:g.Product,sum:g.Sum,randomFloat:i.RandomFloat,randomInteger:i.RandomInteger,bernoulliTrial:i.BernoulliTrial,bernoulliFilter:i.BernoulliFilter,uniformChoice:i.UniformChoice,weightedChoice:i.WeightedChoice,sample:i.Sample}},l=k(),m=function(a){return(0,j.isObject)(a)&&a.op},n=function(a){var b=a.op;if(!l[b])throw"Unknown Operator {op}";return new l[b](a)},o=function p(a){e(this,p),this.inExperiment=a};b.initFactory=k,b.isOperator=m,b.operatorInstance=n,b.StopPlanOutException=o},function(a,b,c){(function(b){!function(){var d=c(16),e=c(15).utf8,f=c(15).bin,g=function(a){a.constructor==String?a=e.stringToBytes(a):"undefined"!=typeof b&&"function"==typeof b.isBuffer&&b.isBuffer(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||(a=a.toString());var c=d.bytesToWords(a),f=8*a.length,g=[],h=1732584193,i=-271733879,j=-1732584194,k=271733878,l=-1009589776;c[f>>5]|=128<<24-f%32,c[(f+64>>>9<<4)+15]=f;for(var m=0;m<c.length;m+=16){for(var n=h,o=i,p=j,q=k,r=l,s=0;s<80;s++){if(s<16)g[s]=c[m+s];else{var t=g[s-3]^g[s-8]^g[s-14]^g[s-16];g[s]=t<<1|t>>>31}var u=(h<<5|h>>>27)+l+(g[s]>>>0)+(s<20?(i&j|~i&k)+1518500249:s<40?(i^j^k)+1859775393:s<60?(i&j|i&k|j&k)-1894007588:(i^j^k)-899497514);l=k,k=j,j=i<<30|i>>>2,i=h,h=u}h+=n,i+=o,j+=p,k+=q,l+=r}return[h,i,j,k,l]},h=function(a,b){var c=d.wordsToBytes(g(a));return b&&b.asBytes?c:b&&b.asString?f.bytesToString(c):d.bytesToHex(c)};h._blocksize=16,h._digestsize=20,a.exports=h}()}).call(b,c(14).Buffer)},function(a,b,c){var d;!function(e){"use strict";function f(a){function b(a,d){var e,f,g,h,i,j,k=this;if(!(k instanceof b))return S&&G(26,"constructor call without new",a),new b(a,d);if(null!=d&&T(d,2,64,J,"base")){if(d=0|d,j=a+"",10==d)return k=new b(a instanceof b?a:j),H(k,M+k.e+1,N);if((h="number"==typeof a)&&0*a!=0||!new RegExp("^-?"+(e="["+y.slice(0,d)+"]+")+"(?:\\."+e+")?$",d<37?"i":"").test(j))return r(k,j,h,d);h?(k.s=1/a<0?(j=j.slice(1),-1):1,S&&j.replace(/^0\.0*|\./,"").length>15&&G(J,x,a),h=!1):k.s=45===j.charCodeAt(0)?(j=j.slice(1),-1):1,j=c(j,10,d,k.s)}else{if(a instanceof b)return k.s=a.s,k.e=a.e,k.c=(a=a.c)?a.slice():a,void(J=0);if((h="number"==typeof a)&&0*a==0){if(k.s=1/a<0?(a=-a,-1):1,a===~~a){for(f=0,g=a;g>=10;g/=10,f++);return k.e=f,k.c=[a],void(J=0)}j=a+""}else{if(!s.test(j=a+""))return r(k,j,h);k.s=45===j.charCodeAt(0)?(j=j.slice(1),-1):1}}for((f=j.indexOf("."))>-1&&(j=j.replace(".","")),(g=j.search(/e/i))>0?(f<0&&(f=g),f+=+j.slice(g+1),j=j.substring(0,g)):f<0&&(f=j.length),g=0;48===j.charCodeAt(g);g++);for(i=j.length;48===j.charCodeAt(--i););if(j=j.slice(g,i+1))if(i=j.length,h&&S&&i>15&&G(J,x,k.s*a),f=f-g-1,f>R)k.c=k.e=null;else if(f<Q)k.c=[k.e=0];else{if(k.e=f,k.c=[],g=(f+1)%A,f<0&&(g+=A),g<i){for(g&&k.c.push(+j.slice(0,g)),i-=A;g<i;)k.c.push(+j.slice(g,g+=A));j=j.slice(g),g=A-j.length}else g-=i;for(;g--;j+="0");k.c.push(+j)}else k.c=[k.e=0];J=0}function c(a,c,d,e){var f,g,i,j,k,m,o,p=a.indexOf("."),q=M,r=N;for(d<37&&(a=a.toLowerCase()),p>=0&&(i=W,W=0,a=a.replace(".",""),o=new b(d),k=o.pow(a.length-p),W=i,o.c=l(n(h(k.c),k.e),10,c),o.e=o.c.length),m=l(a,d,c),g=i=m.length;0==m[--i];m.pop());if(!m[0])return"0";if(p<0?--g:(k.c=m,k.e=g,k.s=e,k=I(k,o,q,r,c),m=k.c,j=k.r,g=k.e),f=g+q+1,p=m[f],i=c/2,j=j||f<0||null!=m[f+1],j=r<4?(null!=p||j)&&(0==r||r==(k.s<0?3:2)):p>i||p==i&&(4==r||j||6==r&&1&m[f-1]||r==(k.s<0?8:7)),f<1||!m[0])a=j?n("1",-q):"0";else{if(m.length=f,j)for(--c;++m[--f]>c;)m[f]=0,f||(++g,m.unshift(1));for(i=m.length;!m[--i];);for(p=0,a="";p<=i;a+=y.charAt(m[p++]));a=n(a,g)}return a}function d(a,c,d,e){var f,g,i,j,k;if(d=null!=d&&T(d,0,8,e,w)?0|d:N,!a.c)return a.toString();if(f=a.c[0],i=a.e,null==c)k=h(a.c),k=19==e||24==e&&i<=O?m(k,i):n(k,i);else if(a=H(new b(a),c,d),g=a.e,k=h(a.c),j=k.length,19==e||24==e&&(c<=g||g<=O)){for(;j<c;k+="0",j++);k=m(k,g)}else if(c-=i,k=n(k,g),g+1>j){if(--c>0)for(k+=".";c--;k+="0");}else if(c+=g-j,c>0)for(g+1==j&&(k+=".");c--;k+="0");return a.s<0&&f?"-"+k:k}function e(a,c){var d,e,f=0;for(k(a[0])&&(a=a[0]),d=new b(a[0]);++f<a.length;){if(e=new b(a[f]),!e.s){d=e;break}c.call(d,e)&&(d=e)}return d}function p(a,b,c,d,e){return(a<b||a>c||a!=o(a))&&G(d,(e||"decimal places")+(a<b||a>c?" out of range":" not an integer"),a),!0}function F(a,b,c){for(var d=1,e=b.length;!b[--e];b.pop());for(e=b[0];e>=10;e/=10,d++);return(c=d+c*A-1)>R?a.c=a.e=null:c<Q?a.c=[a.e=0]:(a.e=c,a.c=b),a}function G(a,b,c){var d=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][a]+"() "+b+": "+c);throw d.name="BigNumber Error",J=0,d}function H(a,b,c,d){var e,f,g,h,i,j,k,l=a.c,m=C;if(l){a:{for(e=1,h=l[0];h>=10;h/=10,e++);if(f=b-e,f<0)f+=A,g=b,i=l[j=0],k=i/m[e-g-1]%10|0;else if(j=t((f+1)/A),j>=l.length){if(!d)break a;for(;l.length<=j;l.push(0));i=k=0,e=1,f%=A,g=f-A+1}else{for(i=h=l[j],e=1;h>=10;h/=10,e++);f%=A,g=f-A+e,k=g<0?0:i/m[e-g-1]%10|0}if(d=d||b<0||null!=l[j+1]||(g<0?i:i%m[e-g-1]),d=c<4?(k||d)&&(0==c||c==(a.s<0?3:2)):k>5||5==k&&(4==c||d||6==c&&(f>0?g>0?i/m[e-g]:0:l[j-1])%10&1||c==(a.s<0?8:7)),b<1||!l[0])return l.length=0,d?(b-=a.e+1,l[0]=m[b%A],a.e=-b||0):l[0]=a.e=0,a;if(0==f?(l.length=j,h=1,j--):(l.length=j+1,h=m[A-f],l[j]=g>0?u(i/m[e-g]%m[g])*h:0),d)for(;;){if(0==j){for(f=1,g=l[0];g>=10;g/=10,f++);for(g=l[0]+=h,h=1;g>=10;g/=10,h++);f!=h&&(a.e++,l[0]==z&&(l[0]=1));break}if(l[j]+=h,l[j]!=z)break;l[j--]=0,h=1}for(f=l.length;0===l[--f];l.pop());}a.e>R?a.c=a.e=null:a.e<Q&&(a.c=[a.e=0])}return a}var I,J=0,K=b.prototype,L=new b(1),M=20,N=4,O=-7,P=21,Q=-1e7,R=1e7,S=!0,T=p,U=!1,V=1,W=100,X={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};return b.another=f,b.ROUND_UP=0,b.ROUND_DOWN=1,b.ROUND_CEIL=2,b.ROUND_FLOOR=3,b.ROUND_HALF_UP=4,b.ROUND_HALF_DOWN=5,b.ROUND_HALF_EVEN=6,b.ROUND_HALF_CEIL=7,b.ROUND_HALF_FLOOR=8,b.EUCLID=9,b.config=function(){var a,b,c=0,d={},e=arguments,f=e[0],g=f&&"object"==typeof f?function(){if(f.hasOwnProperty(b))return null!=(a=f[b])}:function(){if(e.length>c)return null!=(a=e[c++])};return g(b="DECIMAL_PLACES")&&T(a,0,E,2,b)&&(M=0|a),d[b]=M,g(b="ROUNDING_MODE")&&T(a,0,8,2,b)&&(N=0|a),d[b]=N,g(b="EXPONENTIAL_AT")&&(k(a)?T(a[0],-E,0,2,b)&&T(a[1],0,E,2,b)&&(O=0|a[0],P=0|a[1]):T(a,-E,E,2,b)&&(O=-(P=0|(a<0?-a:a)))),d[b]=[O,P],g(b="RANGE")&&(k(a)?T(a[0],-E,-1,2,b)&&T(a[1],1,E,2,b)&&(Q=0|a[0],R=0|a[1]):T(a,-E,E,2,b)&&(0|a?Q=-(R=0|(a<0?-a:a)):S&&G(2,b+" cannot be zero",a))),d[b]=[Q,R],g(b="ERRORS")&&(a===!!a||1===a||0===a?(J=0,T=(S=!!a)?p:j):S&&G(2,b+v,a)),d[b]=S,g(b="CRYPTO")&&(a===!!a||1===a||0===a?(U=!(!a||!q||"object"!=typeof q),a&&!U&&S&&G(2,"crypto unavailable",q)):S&&G(2,b+v,a)),d[b]=U,g(b="MODULO_MODE")&&T(a,0,9,2,b)&&(V=0|a),d[b]=V,g(b="POW_PRECISION")&&T(a,0,E,2,b)&&(W=0|a),d[b]=W,g(b="FORMAT")&&("object"==typeof a?X=a:S&&G(2,b+" not an object",a)),d[b]=X,d},b.max=function(){return e(arguments,K.lt)},b.min=function(){return e(arguments,K.gt)},b.random=function(){var a=9007199254740992,c=Math.random()*a&2097151?function(){return u(Math.random()*a)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(a){var d,e,f,g,h,i=0,j=[],k=new b(L);if(a=null!=a&&T(a,0,E,14)?0|a:M,g=t(a/A),U)if(q&&q.getRandomValues){for(d=q.getRandomValues(new Uint32Array(g*=2));i<g;)h=131072*d[i]+(d[i+1]>>>11),h>=9e15?(e=q.getRandomValues(new Uint32Array(2)),d[i]=e[0],d[i+1]=e[1]):(j.push(h%1e14),i+=2);i=g/2}else if(q&&q.randomBytes){for(d=q.randomBytes(g*=7);i<g;)h=281474976710656*(31&d[i])+1099511627776*d[i+1]+4294967296*d[i+2]+16777216*d[i+3]+(d[i+4]<<16)+(d[i+5]<<8)+d[i+6],h>=9e15?q.randomBytes(7).copy(d,i):(j.push(h%1e14),i+=7);i=g/7}else S&&G(14,"crypto unavailable",q);if(!i)for(;i<g;)h=c(),h<9e15&&(j[i++]=h%1e14);for(g=j[--i],a%=A,g&&a&&(h=C[A-a],j[i]=u(g/h)*h);0===j[i];j.pop(),i--);if(i<0)j=[f=0];else{for(f=-1;0===j[0];j.shift(),f-=A);for(i=1,h=j[0];h>=10;h/=10,i++);i<A&&(f-=A-i)}return k.e=f,k.c=j,k}}(),I=function(){function a(a,b,c){var d,e,f,g,h=0,i=a.length,j=b%D,k=b/D|0;for(a=a.slice();i--;)f=a[i]%D,g=a[i]/D|0,d=k*f+g*j,e=j*f+d%D*D+h,h=(e/c|0)+(d/D|0)+k*g,a[i]=e%c;return h&&a.unshift(h),a}function c(a,b,c,d){var e,f;if(c!=d)f=c>d?1:-1;else for(e=f=0;e<c;e++)if(a[e]!=b[e]){f=a[e]>b[e]?1:-1;break}return f}function d(a,b,c,d){for(var e=0;c--;)a[c]-=e,e=a[c]<b[c]?1:0,a[c]=e*d+a[c]-b[c];for(;!a[0]&&a.length>1;a.shift());}return function(e,f,h,i,j){var k,l,m,n,o,p,q,r,s,t,v,w,x,y,B,C,D,E=e.s==f.s?1:-1,F=e.c,G=f.c;if(!(F&&F[0]&&G&&G[0]))return new b(e.s&&f.s&&(F?!G||F[0]!=G[0]:G)?F&&0==F[0]||!G?0*E:E/0:NaN);for(r=new b(E),s=r.c=[],l=e.e-f.e,E=h+l+1,j||(j=z,l=g(e.e/A)-g(f.e/A),E=E/A|0),m=0;G[m]==(F[m]||0);m++);if(G[m]>(F[m]||0)&&l--,E<0)s.push(1),n=!0;else{for(y=F.length,C=G.length,m=0,E+=2,o=u(j/(G[0]+1)),o>1&&(G=a(G,o,j),F=a(F,o,j),C=G.length,y=F.length),x=C,t=F.slice(0,C),v=t.length;v<C;t[v++]=0);D=G.slice(),D.unshift(0),B=G[0],G[1]>=j/2&&B++;do{if(o=0,k=c(G,t,C,v),k<0){if(w=t[0],C!=v&&(w=w*j+(t[1]||0)),o=u(w/B),o>1)for(o>=j&&(o=j-1),p=a(G,o,j),q=p.length,v=t.length;1==c(p,t,q,v);)o--,d(p,C<q?D:G,q,j),q=p.length,k=1;else 0==o&&(k=o=1),p=G.slice(),q=p.length;if(q<v&&p.unshift(0),d(t,p,v,j),v=t.length,k==-1)for(;c(G,t,C,v)<1;)o++,d(t,C<v?D:G,v,j),v=t.length}else 0===k&&(o++,t=[0]);s[m++]=o,t[0]?t[v++]=F[x]||0:(t=[F[x]],v=1)}while((x++<y||null!=t[0])&&E--);n=null!=t[0],s[0]||s.shift()}if(j==z){for(m=1,E=s[0];E>=10;E/=10,m++);H(r,h+(r.e=m+l*A-1)+1,i,n)}else r.e=l,r.r=+n;return r}}(),r=function(){var a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,c=/^([^.]+)\.$/,d=/^\.([^.]+)$/,e=/^-?(Infinity|NaN)$/,f=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(g,h,i,j){var k,l=i?h:h.replace(f,"");if(e.test(l))g.s=isNaN(l)?null:l<0?-1:1;else{if(!i&&(l=l.replace(a,function(a,b,c){return k="x"==(c=c.toLowerCase())?16:"b"==c?2:8,j&&j!=k?a:b}),j&&(k=j,l=l.replace(c,"$1").replace(d,"0.$1")),h!=l))return new b(l,k);S&&G(J,"not a"+(j?" base "+j:"")+" number",h),g.s=null}g.c=g.e=null,J=0}}(),K.absoluteValue=K.abs=function(){var a=new b(this);return a.s<0&&(a.s=1),a},K.ceil=function(){return H(new b(this),this.e+1,2)},K.comparedTo=K.cmp=function(a,c){return J=1,i(this,new b(a,c))},K.decimalPlaces=K.dp=function(){var a,b,c=this.c;if(!c)return null;if(a=((b=c.length-1)-g(this.e/A))*A,b=c[b])for(;b%10==0;b/=10,a--);return a<0&&(a=0),a},K.dividedBy=K.div=function(a,c){return J=3,I(this,new b(a,c),M,N)},K.dividedToIntegerBy=K.divToInt=function(a,c){return J=4,I(this,new b(a,c),0,1)},K.equals=K.eq=function(a,c){return J=5,0===i(this,new b(a,c))},K.floor=function(){return H(new b(this),this.e+1,3)},K.greaterThan=K.gt=function(a,c){return J=6,i(this,new b(a,c))>0},K.greaterThanOrEqualTo=K.gte=function(a,c){return J=7,1===(c=i(this,new b(a,c)))||0===c},K.isFinite=function(){return!!this.c},K.isInteger=K.isInt=function(){return!!this.c&&g(this.e/A)>this.c.length-2},K.isNaN=function(){return!this.s},K.isNegative=K.isNeg=function(){return this.s<0},K.isZero=function(){return!!this.c&&0==this.c[0]},K.lessThan=K.lt=function(a,c){return J=8,i(this,new b(a,c))<0},K.lessThanOrEqualTo=K.lte=function(a,c){return J=9,(c=i(this,new b(a,c)))===-1||0===c},K.minus=K.sub=function(a,c){var d,e,f,h,i=this,j=i.s;if(J=10,a=new b(a,c),c=a.s,!j||!c)return new b(NaN);if(j!=c)return a.s=-c,i.plus(a);var k=i.e/A,l=a.e/A,m=i.c,n=a.c;if(!k||!l){if(!m||!n)return m?(a.s=-c,a):new b(n?i:NaN);if(!m[0]||!n[0])return n[0]?(a.s=-c,a):new b(m[0]?i:3==N?-0:0)}if(k=g(k),l=g(l),m=m.slice(),j=k-l){for((h=j<0)?(j=-j,f=m):(l=k,f=n),f.reverse(),c=j;c--;f.push(0));f.reverse()}else for(e=(h=(j=m.length)<(c=n.length))?j:c,j=c=0;c<e;c++)if(m[c]!=n[c]){h=m[c]<n[c];break}if(h&&(f=m,m=n,n=f,a.s=-a.s),c=(e=n.length)-(d=m.length),c>0)for(;c--;m[d++]=0);for(c=z-1;e>j;){if(m[--e]<n[e]){for(d=e;d&&!m[--d];m[d]=c);--m[d],m[e]+=z}m[e]-=n[e]}for(;0==m[0];m.shift(),--l);return m[0]?F(a,m,l):(a.s=3==N?-1:1,a.c=[a.e=0],a)},K.modulo=K.mod=function(a,c){var d,e,f=this;return J=11,a=new b(a,c),!f.c||!a.s||a.c&&!a.c[0]?new b(NaN):!a.c||f.c&&!f.c[0]?new b(f):(9==V?(e=a.s,a.s=1,d=I(f,a,0,3),a.s=e,d.s*=e):d=I(f,a,0,V),f.minus(d.times(a)))},K.negated=K.neg=function(){var a=new b(this);return a.s=-a.s||null,a},K.plus=K.add=function(a,c){var d,e=this,f=e.s;if(J=12,a=new b(a,c),c=a.s,!f||!c)return new b(NaN);if(f!=c)return a.s=-c,e.minus(a);var h=e.e/A,i=a.e/A,j=e.c,k=a.c;if(!h||!i){if(!j||!k)return new b(f/0);if(!j[0]||!k[0])return k[0]?a:new b(j[0]?e:0*f)}if(h=g(h),i=g(i),j=j.slice(),f=h-i){for(f>0?(i=h,d=k):(f=-f,d=j),d.reverse();f--;d.push(0));d.reverse()}for(f=j.length,c=k.length,f-c<0&&(d=k,k=j,j=d,c=f),f=0;c;)f=(j[--c]=j[c]+k[c]+f)/z|0,j[c]%=z;return f&&(j.unshift(f),++i),F(a,j,i)},K.precision=K.sd=function(a){var b,c,d=this,e=d.c;if(null!=a&&a!==!!a&&1!==a&&0!==a&&(S&&G(13,"argument"+v,a),a!=!!a&&(a=null)),!e)return null;if(c=e.length-1,b=c*A+1,c=e[c]){for(;c%10==0;c/=10,b--);for(c=e[0];c>=10;c/=10,b++);}return a&&d.e+1>b&&(b=d.e+1),b},K.round=function(a,c){var d=new b(this);return(null==a||T(a,0,E,15))&&H(d,~~a+this.e+1,null!=c&&T(c,0,8,15,w)?0|c:N),d},K.shift=function(a){var c=this;return T(a,-B,B,16,"argument")?c.times("1e"+o(a)):new b(c.c&&c.c[0]&&(a<-B||a>B)?c.s*(a<0?0:1/0):c)},K.squareRoot=K.sqrt=function(){var a,c,d,e,f,i=this,j=i.c,k=i.s,l=i.e,m=M+4,n=new b("0.5");if(1!==k||!j||!j[0])return new b(!k||k<0&&(!j||j[0])?NaN:j?i:1/0);if(k=Math.sqrt(+i),0==k||k==1/0?(c=h(j),(c.length+l)%2==0&&(c+="0"),k=Math.sqrt(c),l=g((l+1)/2)-(l<0||l%2),k==1/0?c="1e"+l:(c=k.toExponential(),c=c.slice(0,c.indexOf("e")+1)+l),d=new b(c)):d=new b(k+""),d.c[0])for(l=d.e,k=l+m,k<3&&(k=0);;)if(f=d,d=n.times(f.plus(I(i,f,m,1))),h(f.c).slice(0,k)===(c=h(d.c)).slice(0,k)){if(d.e<l&&--k,c=c.slice(k-3,k+1),"9999"!=c&&(e||"4999"!=c)){+c&&(+c.slice(1)||"5"!=c.charAt(0))||(H(d,d.e+M+2,1),a=!d.times(d).eq(i));break}if(!e&&(H(f,f.e+M+2,0),f.times(f).eq(i))){d=f;break}m+=4,k+=4,e=1}return H(d,d.e+M+1,N,a)},K.times=K.mul=function(a,c){var d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t=this,u=t.c,v=(J=17,a=new b(a,c)).c;if(!(u&&v&&u[0]&&v[0]))return!t.s||!a.s||u&&!u[0]&&!v||v&&!v[0]&&!u?a.c=a.e=a.s=null:(a.s*=t.s,u&&v?(a.c=[0],a.e=0):a.c=a.e=null),a;for(e=g(t.e/A)+g(a.e/A),a.s*=t.s,k=u.length,n=v.length,k<n&&(q=u,u=v,v=q,f=k,k=n,n=f),f=k+n,q=[];f--;q.push(0));for(r=z,s=D,f=n;--f>=0;){for(d=0,o=v[f]%s,p=v[f]/s|0,i=k,h=f+i;h>f;)l=u[--i]%s,m=u[i]/s|0,j=p*l+m*o,l=o*l+j%s*s+q[h]+d,d=(l/r|0)+(j/s|0)+p*m,q[h--]=l%r;q[h]=d}return d?++e:q.shift(),F(a,q,e)},K.toDigits=function(a,c){var d=new b(this);return a=null!=a&&T(a,1,E,18,"precision")?0|a:null,c=null!=c&&T(c,0,8,18,w)?0|c:N,a?H(d,a,c):d},K.toExponential=function(a,b){return d(this,null!=a&&T(a,0,E,19)?~~a+1:null,b,19)},K.toFixed=function(a,b){return d(this,null!=a&&T(a,0,E,20)?~~a+this.e+1:null,b,20)},K.toFormat=function(a,b){var c=d(this,null!=a&&T(a,0,E,21)?~~a+this.e+1:null,b,21);if(this.c){var e,f=c.split("."),g=+X.groupSize,h=+X.secondaryGroupSize,i=X.groupSeparator,j=f[0],k=f[1],l=this.s<0,m=l?j.slice(1):j,n=m.length;if(h&&(e=g,g=h,h=e,n-=e),g>0&&n>0){for(e=n%g||g,j=m.substr(0,e);e<n;e+=g)j+=i+m.substr(e,g);h>0&&(j+=i+m.slice(e)),l&&(j="-"+j)}c=k?j+X.decimalSeparator+((h=+X.fractionGroupSize)?k.replace(new RegExp("\\d{"+h+"}\\B","g"),"$&"+X.fractionGroupSeparator):k):j}return c},K.toFraction=function(a){var c,d,e,f,g,i,j,k,l,m=S,n=this,o=n.c,p=new b(L),q=d=new b(L),r=j=new b(L);if(null!=a&&(S=!1,i=new b(a),S=m,(m=i.isInt())&&!i.lt(L)||(S&&G(22,"max denominator "+(m?"out of range":"not an integer"),a),a=!m&&i.c&&H(i,i.e+1,1).gte(L)?i:null)),!o)return n.toString();for(l=h(o),f=p.e=l.length-n.e-1,p.c[0]=C[(g=f%A)<0?A+g:g],a=!a||i.cmp(p)>0?f>0?p:q:i,g=R,R=1/0,i=new b(l),j.c[0]=0;k=I(i,p,0,1),e=d.plus(k.times(r)),1!=e.cmp(a);)d=r,r=e,q=j.plus(k.times(e=q)),j=e,p=i.minus(k.times(e=p)),i=e;return e=I(a.minus(d),r,0,1),j=j.plus(e.times(q)),d=d.plus(e.times(r)),j.s=q.s=n.s,f*=2,c=I(q,r,f,N).minus(n).abs().cmp(I(j,d,f,N).minus(n).abs())<1?[q.toString(),r.toString()]:[j.toString(),d.toString()],R=g,c},K.toNumber=function(){var a=this;return+a||(a.s?0*a.s:NaN)},K.toPower=K.pow=function(a){var c,d,e=u(a<0?-a:+a),f=this;if(!T(a,-B,B,23,"exponent")&&(!isFinite(a)||e>B&&(a/=0)||parseFloat(a)!=a&&!(a=NaN)))return new b(Math.pow(+f,a));for(c=W?t(W/A+2):0,d=new b(L);;){if(e%2){if(d=d.times(f),!d.c)break;c&&d.c.length>c&&(d.c.length=c)}if(e=u(e/2),!e)break;f=f.times(f),c&&f.c&&f.c.length>c&&(f.c.length=c)}return a<0&&(d=L.div(d)),c?H(d,W,N):d},K.toPrecision=function(a,b){return d(this,null!=a&&T(a,1,E,24,"precision")?0|a:null,b,24)},K.toString=function(a){var b,d=this,e=d.s,f=d.e;return null===f?e?(b="Infinity",e<0&&(b="-"+b)):b="NaN":(b=h(d.c),b=null!=a&&T(a,2,64,25,"base")?c(n(b,f),0|a,10,e):f<=O||f>=P?m(b,f):n(b,f),e<0&&d.c[0]&&(b="-"+b)),b},K.truncated=K.trunc=function(){return H(new b(this),this.e+1,1)},K.valueOf=K.toJSON=function(){return this.toString()},null!=a&&b.config(a),b}function g(a){var b=0|a;return a>0||a===b?b:b-1}function h(a){for(var b,c,d=1,e=a.length,f=a[0]+"";d<e;){for(b=a[d++]+"",c=A-b.length;c--;b="0"+b);f+=b}for(e=f.length;48===f.charCodeAt(--e););return f.slice(0,e+1||1)}function i(a,b){var c,d,e=a.c,f=b.c,g=a.s,h=b.s,i=a.e,j=b.e;if(!g||!h)return null;if(c=e&&!e[0],d=f&&!f[0],c||d)return c?d?0:-h:g;if(g!=h)return g;if(c=g<0,d=i==j,!e||!f)return d?0:!e^c?1:-1;if(!d)return i>j^c?1:-1;for(h=(i=e.length)<(j=f.length)?i:j,g=0;g<h;g++)if(e[g]!=f[g])return e[g]>f[g]^c?1:-1;return i==j?0:i>j^c?1:-1}function j(a,b,c){return(a=o(a))>=b&&a<=c}function k(a){return"[object Array]"==Object.prototype.toString.call(a)}function l(a,b,c){for(var d,e,f=[0],g=0,h=a.length;g<h;){for(e=f.length;e--;f[e]*=b);for(f[d=0]+=y.indexOf(a.charAt(g++));d<f.length;d++)f[d]>c-1&&(null==f[d+1]&&(f[d+1]=0),f[d+1]+=f[d]/c|0,f[d]%=c)}return f.reverse()}function m(a,b){return(a.length>1?a.charAt(0)+"."+a.slice(1):a)+(b<0?"e":"e+")+b}function n(a,b){var c,d;if(b<0){for(d="0.";++b;d+="0");a=d+a}else if(c=a.length,++b>c){for(d="0",b-=c;--b;d+="0");a+=d}else b<c&&(a=a.slice(0,b)+"."+a.slice(b));return a}function o(a){return a=parseFloat(a),a<0?t(a):u(a)}var p,q,r,s=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,t=Math.ceil,u=Math.floor,v=" not a boolean or binary digit",w="rounding mode",x="number type has more than 15 significant digits",y="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",z=1e14,A=14,B=9007199254740991,C=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],D=1e7,E=1e9;p=f(),d=function(){return p}.call(b,c,b,a),!(void 0!==d&&(a.exports=d))}(this)},function(a,b,c){(function(a,d){"use strict";function e(){function a(){}try{var b=new Uint8Array(1);return b.foo=function(){return 42},b.constructor=a,42===b.foo()&&b.constructor===a&&"function"==typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(c){return!1}}function f(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(b){return this instanceof a?(a.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof b?g(this,b):"string"==typeof b?h(this,b,arguments.length>1?arguments[1]:"utf8"):i(this,b)):arguments.length>1?new a(b,arguments[1]):new a(b)}function g(b,c){if(b=p(b,c<0?0:0|q(c)),!a.TYPED_ARRAY_SUPPORT)for(var d=0;d<c;d++)b[d]=0;return b}function h(a,b,c){"string"==typeof c&&""!==c||(c="utf8");var d=0|s(b,c);return a=p(a,d),a.write(b,c),a}function i(b,c){if(a.isBuffer(c))return j(b,c);if(Y(c))return k(b,c);if(null==c)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(c.buffer instanceof ArrayBuffer)return l(b,c);if(c instanceof ArrayBuffer)return m(b,c)}return c.length?n(b,c):o(b,c)}function j(a,b){var c=0|q(b.length);return a=p(a,c),b.copy(a,0,0,c),a}function k(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function l(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function m(b,c){return a.TYPED_ARRAY_SUPPORT?(c.byteLength,b=a._augment(new Uint8Array(c))):b=l(b,new Uint8Array(c)),b}function n(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function o(a,b){var c,d=0;"Buffer"===b.type&&Y(b.data)&&(c=b.data,d=0|q(c.length)),a=p(a,d);for(var e=0;e<d;e+=1)a[e]=255&c[e];return a}function p(b,c){a.TYPED_ARRAY_SUPPORT?(b=a._augment(new Uint8Array(c)),b.__proto__=a.prototype):(b.length=c,b._isBuffer=!0);var d=0!==c&&c<=a.poolSize>>>1;return d&&(b.parent=Z),b}function q(a){if(a>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return 0|a}function r(b,c){if(!(this instanceof r))return new r(b,c);var d=new a(b,c);return delete d.parent,d}function s(a,b){"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"binary":case"raw":case"raws":return c;case"utf8":case"utf-8":return R(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return U(a).length;default:if(d)return R(a).length;b=(""+b).toLowerCase(),d=!0}}function t(a,b,c){var d=!1;if(b=0|b,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),b<0&&(b=0),c>this.length&&(c=this.length),c<=b)return"";for(;;)switch(a){case"hex":return F(this,b,c);case"utf8":case"utf-8":return B(this,b,c);case"ascii":return D(this,b,c);case"binary":return E(this,b,c);case"base64":return A(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function u(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function v(a,b,c,d){return V(R(b,a.length-c),a,c,d)}function w(a,b,c,d){return V(S(b),a,c,d)}function x(a,b,c,d){return w(a,b,c,d)}function y(a,b,c,d){return V(U(b),a,c,d)}function z(a,b,c,d){return V(T(b,a.length-c),a,c,d)}function A(a,b,c){return 0===b&&c===a.length?W.fromByteArray(a):W.fromByteArray(a.slice(b,c))}function B(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(l<55296||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&l<1114112&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return C(d)}function C(a){var b=a.length;if(b<=$)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=$));return c}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(127&a[e]);return d}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(a[e]);return d}function F(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;f++)e+=Q(a[f]);return e}function G(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function H(a,b,c){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function I(b,c,d,e,f,g){if(!a.isBuffer(b))throw new TypeError("buffer must be a Buffer instance");if(c>f||c<g)throw new RangeError("value is out of bounds");if(d+e>b.length)throw new RangeError("index out of range")}function J(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function K(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;e++)a[c+e]=b>>>8*(d?e:3-e)&255;
}function L(a,b,c,d,e,f){if(b>e||b<f)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(c<0)throw new RangeError("index out of range")}function M(a,b,c,d,e){return e||L(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(a,b,c,d,23,4),c+4}function N(a,b,c,d,e){return e||L(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(a,b,c,d,52,8),c+8}function O(a){if(a=P(a).replace(aa,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function Q(a){return a<16?"0"+a.toString(16):a.toString(16)}function R(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;g++){if(c=a.charCodeAt(g),c>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function S(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function T(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function U(a){return W.toByteArray(O(a))}function V(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}var W=c(19),X=c(17),Y=c(18);b.Buffer=a,b.SlowBuffer=r,b.INSPECT_MAX_BYTES=50,a.poolSize=8192;var Z={};a.TYPED_ARRAY_SUPPORT=void 0!==d.TYPED_ARRAY_SUPPORT?d.TYPED_ARRAY_SUPPORT:e(),a.TYPED_ARRAY_SUPPORT?(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array):(a.prototype.length=void 0,a.prototype.parent=void 0),a.isBuffer=function(a){return!(null==a||!a._isBuffer)},a.compare=function(b,c){if(!a.isBuffer(b)||!a.isBuffer(c))throw new TypeError("Arguments must be Buffers");if(b===c)return 0;for(var d=b.length,e=c.length,f=0,g=Math.min(d,e);f<g&&b[f]===c[f];)++f;return f!==g&&(d=b[f],e=c[f]),d<e?-1:e<d?1:0},a.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(b,c){if(!Y(b))throw new TypeError("list argument must be an Array of Buffers.");if(0===b.length)return new a(0);var d;if(void 0===c)for(c=0,d=0;d<b.length;d++)c+=b[d].length;var e=new a(c),f=0;for(d=0;d<b.length;d++){var g=b[d];g.copy(e,f),f+=g.length}return e},a.byteLength=s,a.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?B(this,0,a):t.apply(this,arguments)},a.prototype.equals=function(b){if(!a.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===a.compare(this,b)},a.prototype.inspect=function(){var a="",c=b.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,c).match(/.{2}/g).join(" "),this.length>c&&(a+=" ... ")),"<Buffer "+a+">"},a.prototype.compare=function(b){if(!a.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?0:a.compare(this,b)},a.prototype.indexOf=function(b,c){function d(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[d===-1?0:e-d]){if(d===-1&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c>>=0,0===this.length)return-1;if(c>=this.length)return-1;if(c<0&&(c=Math.max(this.length+c,0)),"string"==typeof b)return 0===b.length?-1:String.prototype.indexOf.call(this,b,c);if(a.isBuffer(b))return d(this,b,c);if("number"==typeof b)return a.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,b,c):d(this,[b],c);throw new TypeError("val must be string, number or Buffer")},a.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},a.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},a.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b=0|b,isFinite(c)?(c=0|c,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return u(this,a,b,c);case"utf8":case"utf-8":return v(this,a,b,c);case"ascii":return w(this,a,b,c);case"binary":return x(this,a,b,c);case"base64":return y(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;a.prototype.slice=function(b,c){var d=this.length;b=~~b,c=void 0===c?d:~~c,b<0?(b+=d,b<0&&(b=0)):b>d&&(b=d),c<0?(c+=d,c<0&&(c=0)):c>d&&(c=d),c<b&&(c=b);var e;if(a.TYPED_ARRAY_SUPPORT)e=a._augment(this.subarray(b,c));else{var f=c-b;e=new a(f,(void 0));for(var g=0;g<f;g++)e[g]=this[g+b]}return e.length&&(e.parent=this.parent||this),e},a.prototype.readUIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},a.prototype.readUIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},a.prototype.readUInt8=function(a,b){return b||H(a,1,this.length),this[a]},a.prototype.readUInt16LE=function(a,b){return b||H(a,2,this.length),this[a]|this[a+1]<<8},a.prototype.readUInt16BE=function(a,b){return b||H(a,2,this.length),this[a]<<8|this[a+1]},a.prototype.readUInt32LE=function(a,b){return b||H(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},a.prototype.readUInt32BE=function(a,b){return b||H(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},a.prototype.readIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},a.prototype.readIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},a.prototype.readInt8=function(a,b){return b||H(a,1,this.length),128&this[a]?(255-this[a]+1)*-1:this[a]},a.prototype.readInt16LE=function(a,b){b||H(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},a.prototype.readInt16BE=function(a,b){b||H(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},a.prototype.readInt32LE=function(a,b){return b||H(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},a.prototype.readInt32BE=function(a,b){return b||H(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},a.prototype.readFloatLE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!0,23,4)},a.prototype.readFloatBE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!1,23,4)},a.prototype.readDoubleLE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!0,52,8)},a.prototype.readDoubleBE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!1,52,8)},a.prototype.writeUIntLE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},a.prototype.writeUIntBE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},a.prototype.writeUInt8=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,1,255,0),a.TYPED_ARRAY_SUPPORT||(b=Math.floor(b)),this[c]=255&b,c+1},a.prototype.writeUInt16LE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[c]=255&b,this[c+1]=b>>>8):J(this,b,c,!0),c+2},a.prototype.writeUInt16BE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[c]=b>>>8,this[c+1]=255&b):J(this,b,c,!1),c+2},a.prototype.writeUInt32LE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[c+3]=b>>>24,this[c+2]=b>>>16,this[c+1]=b>>>8,this[c]=255&b):K(this,b,c,!0),c+4},a.prototype.writeUInt32BE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[c]=b>>>24,this[c+1]=b>>>16,this[c+2]=b>>>8,this[c+3]=255&b):K(this,b,c,!1),c+4},a.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=0,g=1,h=a<0?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},a.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=a<0?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},a.prototype.writeInt8=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,1,127,-128),a.TYPED_ARRAY_SUPPORT||(b=Math.floor(b)),b<0&&(b=255+b+1),this[c]=255&b,c+1},a.prototype.writeInt16LE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[c]=255&b,this[c+1]=b>>>8):J(this,b,c,!0),c+2},a.prototype.writeInt16BE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[c]=b>>>8,this[c+1]=255&b):J(this,b,c,!1),c+2},a.prototype.writeInt32LE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[c]=255&b,this[c+1]=b>>>8,this[c+2]=b>>>16,this[c+3]=b>>>24):K(this,b,c,!0),c+4},a.prototype.writeInt32BE=function(b,c,d){return b=+b,c=0|c,d||I(this,b,c,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),a.TYPED_ARRAY_SUPPORT?(this[c]=b>>>24,this[c+1]=b>>>16,this[c+2]=b>>>8,this[c+3]=255&b):K(this,b,c,!1),c+4},a.prototype.writeFloatLE=function(a,b,c){return M(this,a,b,!0,c)},a.prototype.writeFloatBE=function(a,b,c){return M(this,a,b,!1,c)},a.prototype.writeDoubleLE=function(a,b,c){return N(this,a,b,!0,c)},a.prototype.writeDoubleBE=function(a,b,c){return N(this,a,b,!1,c)},a.prototype.copy=function(b,c,d,e){if(d||(d=0),e||0===e||(e=this.length),c>=b.length&&(c=b.length),c||(c=0),e>0&&e<d&&(e=d),e===d)return 0;if(0===b.length||0===this.length)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("sourceStart out of bounds");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),b.length-c<e-d&&(e=b.length-c+d);var f,g=e-d;if(this===b&&d<c&&c<e)for(f=g-1;f>=0;f--)b[f+c]=this[f+d];else if(g<1e3||!a.TYPED_ARRAY_SUPPORT)for(f=0;f<g;f++)b[f+c]=this[f+d];else b._set(this.subarray(d,d+g),c);return g},a.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),c<b)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(b<0||b>=this.length)throw new RangeError("start out of bounds");if(c<0||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;d<c;d++)this[d]=a;else{var e=R(a.toString()),f=e.length;for(d=b;d<c;d++)this[d]=e[d%f]}return this}},a.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(a.TYPED_ARRAY_SUPPORT)return new a(this).buffer;for(var b=new Uint8Array(this.length),c=0,d=b.length;c<d;c+=1)b[c]=this[c];return b.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var _=a.prototype;a._augment=function(b){return b.constructor=a,b._isBuffer=!0,b._set=b.set,b.get=_.get,b.set=_.set,b.write=_.write,b.toString=_.toString,b.toLocaleString=_.toString,b.toJSON=_.toJSON,b.equals=_.equals,b.compare=_.compare,b.indexOf=_.indexOf,b.copy=_.copy,b.slice=_.slice,b.readUIntLE=_.readUIntLE,b.readUIntBE=_.readUIntBE,b.readUInt8=_.readUInt8,b.readUInt16LE=_.readUInt16LE,b.readUInt16BE=_.readUInt16BE,b.readUInt32LE=_.readUInt32LE,b.readUInt32BE=_.readUInt32BE,b.readIntLE=_.readIntLE,b.readIntBE=_.readIntBE,b.readInt8=_.readInt8,b.readInt16LE=_.readInt16LE,b.readInt16BE=_.readInt16BE,b.readInt32LE=_.readInt32LE,b.readInt32BE=_.readInt32BE,b.readFloatLE=_.readFloatLE,b.readFloatBE=_.readFloatBE,b.readDoubleLE=_.readDoubleLE,b.readDoubleBE=_.readDoubleBE,b.writeUInt8=_.writeUInt8,b.writeUIntLE=_.writeUIntLE,b.writeUIntBE=_.writeUIntBE,b.writeUInt16LE=_.writeUInt16LE,b.writeUInt16BE=_.writeUInt16BE,b.writeUInt32LE=_.writeUInt32LE,b.writeUInt32BE=_.writeUInt32BE,b.writeIntLE=_.writeIntLE,b.writeIntBE=_.writeIntBE,b.writeInt8=_.writeInt8,b.writeInt16LE=_.writeInt16LE,b.writeInt16BE=_.writeInt16BE,b.writeInt32LE=_.writeInt32LE,b.writeInt32BE=_.writeInt32BE,b.writeFloatLE=_.writeFloatLE,b.writeFloatBE=_.writeFloatBE,b.writeDoubleLE=_.writeDoubleLE,b.writeDoubleBE=_.writeDoubleBE,b.fill=_.fill,b.inspect=_.inspect,b.toArrayBuffer=_.toArrayBuffer,b};var aa=/[^+\/0-9A-Za-z-_]/g}).call(b,c(14).Buffer,function(){return this}())},function(a,b,c){var d={utf8:{stringToBytes:function(a){return d.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(d.bin.bytesToString(a)))}},bin:{stringToBytes:function(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b},bytesToString:function(a){for(var b=[],c=0;c<a.length;c++)b.push(String.fromCharCode(a[c]));return b.join("")}}};a.exports=d},function(a,b,c){!function(){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c={rotl:function(a,b){return a<<b|a>>>32-b},rotr:function(a,b){return a<<32-b|a>>>b},endian:function(a){if(a.constructor==Number)return 16711935&c.rotl(a,8)|4278255360&c.rotl(a,24);for(var b=0;b<a.length;b++)a[b]=c.endian(a[b]);return a},randomBytes:function(a){for(var b=[];a>0;a--)b.push(Math.floor(256*Math.random()));return b},bytesToWords:function(a){for(var b=[],c=0,d=0;c<a.length;c++,d+=8)b[d>>>5]|=a[c]<<24-d%32;return b},wordsToBytes:function(a){for(var b=[],c=0;c<32*a.length;c+=8)b.push(a[c>>>5]>>>24-c%32&255);return b},bytesToHex:function(a){for(var b=[],c=0;c<a.length;c++)b.push((a[c]>>>4).toString(16)),b.push((15&a[c]).toString(16));return b.join("")},hexToBytes:function(a){for(var b=[],c=0;c<a.length;c+=2)b.push(parseInt(a.substr(c,2),16));return b},bytesToBase64:function(a){for(var c=[],d=0;d<a.length;d+=3)for(var e=a[d]<<16|a[d+1]<<8|a[d+2],f=0;f<4;f++)8*d+6*f<=8*a.length?c.push(b.charAt(e>>>6*(3-f)&63)):c.push("=");return c.join("")},base64ToBytes:function(a){a=a.replace(/[^A-Z0-9+\/]/gi,"");for(var c=[],d=0,e=0;d<a.length;e=++d%4)0!=e&&c.push((b.indexOf(a.charAt(d-1))&Math.pow(2,-2*e+8)-1)<<2*e|b.indexOf(a.charAt(d))>>>6-2*e);return c}};a.exports=c}()},function(a,b,c){b.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},b.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},function(a,b,c){var d={}.toString;a.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:b<i?-1:b<i+10?b-i+26+26:b<k+26?b-k:b<j+26?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;d<g;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;e<g;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}(b)}])});
//# sourceMappingURL=planout.map.js