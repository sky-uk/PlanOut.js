!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.planout=t():e.planout=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),u=i(o),a=n(7),s=i(a),l=n(3),c=i(l),f=n(9),p=i(f),h=n(10),g=r(h),y=n(2),v=i(y),m=n(11),_=i(m);t["default"]={Namespace:g,Assignment:v["default"],Interpreter:s["default"],Experiment:u["default"],ExperimentSetup:_["default"],Ops:{Random:c["default"],Core:p["default"]}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),a=r(u),s=n(5),l=function(){function e(t){i(this,e),this.inputs=t,this._exposureLogged=!1,this._salt=null,this._inExperiment=!0,this.name=this.getDefaultExperimentName(),this._autoExposureLog=!0,this.setup(),this._assignment=new a["default"](this.getSalt()),this._assigned=!1}return o(e,[{key:"getDefaultExperimentName",value:function(){if((0,s.isObject)(this)&&this.constructor&&this!==this.window){var e=this.constructor.toString().match(/function\s*(\w+)/);if(e&&2===e.length)return e[1]}return"GenericExperiment"}},{key:"getDefaultParamNames",value:function(){var e=this.assign.toString(),t=e.split(".set(");return t.splice(0,1),(0,s.map)(t,function(e){var t=(0,s.trimTrailingWhitespace)(e.split(",")[0]);return t.substr(1,t.length-2)})}},{key:"requireAssignment",value:function(){this._assigned||this._assign()}},{key:"requireExposureLogging",value:function(e){this.shouldLogExposure(e)&&this.logExposure()}},{key:"_assign",value:function(){this.configureLogger();var e=this.assign(this._assignment,this.inputs);e||void 0===e?this._inExperiment=!0:this._inExperiment=!1,this._assigned=!0}},{key:"setup",value:function(){}},{key:"inExperiment",value:function(){return this._inExperiment}},{key:"addOverride",value:function(e,t){this._assignment.addOverride(e,t)}},{key:"setOverrides",value:function(e){this._assignment.setOverrides(e);var t=this._assignment.getOverrides(),n=this;(0,s.forEach)(Object.keys(t),function(e){void 0!==n.inputs[e]&&(n.inputs[e]=t[e])})}},{key:"getSalt",value:function(){return this._salt?this._salt:this.name}},{key:"setSalt",value:function(e){this._salt=e,this._assignment&&(this._assignment.experimentSalt=e)}},{key:"getName",value:function(){return this.name}},{key:"assign",value:function(e,t){throw"IMPLEMENT assign"}},{key:"getParamNames",value:function(){throw"IMPLEMENT getParamNames"}},{key:"shouldFetchExperimentParameter",value:function(e){var t=this.getParamNames();return t.indexOf(e)>=0}},{key:"setName",value:function(e){var t=/\s+/g;this.name=e.replace(t,"-"),this._assignment&&(this._assignment.experimentSalt=this.getSalt())}},{key:"__asBlob",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={name:this.getName(),time:(new Date).getTime()/1e3,salt:this.getSalt(),inputs:this.inputs,params:this._assignment.getParams()};return(0,s.extend)(t,e),t}},{key:"setAutoExposureLogging",value:function(e){this._autoExposureLog=e}},{key:"getParams",value:function(){return this.requireAssignment(),this.requireExposureLogging(),this._assignment.getParams()}},{key:"get",value:function(e,t){return this.requireAssignment(),this.requireExposureLogging(e),this._assignment.get(e,t)}},{key:"toString",value:function(){return this.requireAssignment(),this.requireExposureLogging(),JSON.stringify(this.__asBlob())}},{key:"logExposure",value:function(e){this.inExperiment()&&(this._exposureLogged=!0,this.logEvent("exposure",e))}},{key:"shouldLogExposure",value:function(e){return!(void 0!==e&&!this.shouldFetchExperimentParameter(e))&&(this._autoExposureLog&&!this.previouslyLogged())}},{key:"logEvent",value:function(e,t){if(this.inExperiment()){var n;n=t?{event:e,extra_data:(0,s.shallowCopy)(t)}:{event:e},this.log(this.__asBlob(n))}}},{key:"configureLogger",value:function(){throw"IMPLEMENT configureLogger"}},{key:"log",value:function(e){throw"IMPLEMENT log"}},{key:"previouslyLogged",value:function(){throw"IMPLEMENT previouslyLogged"}}]),e}();t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),u=n(5),a=function(){function e(t,n){r(this,e),n||(n={}),this.experimentSalt=t,this._overrides=(0,u.shallowCopy)(n),this._data=(0,u.shallowCopy)(n),this.saltSeparator="."}return i(e,[{key:"evaluate",value:function(e){return e}},{key:"getOverrides",value:function(){return this._overrides}},{key:"addOverride",value:function(e,t){this._overrides[e]=t,this._data[e]=t}},{key:"setOverrides",value:function(e){this._overrides=(0,u.shallowCopy)(e);var t=this;(0,u.forEach)(Object.keys(this._overrides),function(e){t._data[e]=t._overrides[e]})}},{key:"set",value:function(e,t){return"_data"===e?void(this._data=t):"_overrides"===e?void(this._overrides=t):"experimentSalt"===e?void(this.experimentSalt=t):"saltSeparator"===e?void(this.saltSeparator=t):void((0,u.hasKey)(this._overrides,e)||(t instanceof o.PlanOutOpRandom?(t.args.salt||(t.args.salt=e),this._data[e]=t.execute(this)):this._data[e]=t))}},{key:"get",value:function(e){return"_data"===e?this._data:"_overrides"===e?this._overrides:"experimentSalt"===e?this.experimentSalt:"saltSeparator"===e?this.saltSeparator:this._data[e]}},{key:"getParams",value:function(){return this._data}},{key:"del",value:function(e){delete this._data[e]}},{key:"toString",value:function(){return String(this._data)}},{key:"length",value:function(){return Object.keys(this._data).length}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),l=n(6),c=r(l),f=n(5),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.LONG_SCALE=0xfffffffffffff,n}return u(t,e),a(t,[{key:"compatHashCalculation",value:function(e){return parseInt(e.substr(0,13),16)}},{key:"compatZeroToOneCalculation",value:function(e){return this.getHash(e)/this.LONG_SCALE}},{key:"getUnit",value:function(e){var t=this.getArgMixed("unit");return(0,f.isArray)(t)||(t=[t]),e&&t.push(e),t}},{key:"getUniform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2],r=this.compatZeroToOneCalculation(n);return r*(t-e)+e}},{key:"getHash",value:function(e){var t;if(this.args.full_salt)t=this.getArgString("full_salt")+".";else{var n=this.getArgString("salt");t=this.mapper.get("experimentSalt")+"."+n+this.mapper.get("saltSeparator")}var r=this.getUnit(e).map(function(e){return String(e)}).join("."),i=t+r,o=c["default"].hash(i);return this.compatHashCalculation(o)}}]),t}(s.PlanOutOpSimple),h=function(e){return function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"simpleExecute",value:function(){var e=this.getArgNumber("min"),t=this.getArgNumber("max");return this.getUniform(e,t)}}]),t}(e)},g=function(e){return function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"compatRandomIntegerCalculation",value:function(e,t){return(this.getHash()+e)%(t-e+1)}},{key:"simpleExecute",value:function(){var e=this.getArgNumber("min"),t=this.getArgNumber("max");return this.compatRandomIntegerCalculation(e,t)}}]),t}(e)},y=function(e){return function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"simpleExecute",value:function(){var e=this.getArgNumber("p");if(e<0||e>1)throw"Invalid probability";return this.getUniform(0,1)<=e?1:0}}]),t}(e)},v=function(e){return function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"simpleExecute",value:function(){var e=this.getArgNumber("p"),t=this.getArgList("choices");if(e<0||e>1)throw"Invalid probability";if(0==t.length)return[];for(var n=[],r=0;r<t.length;r++){var i=t[r];this.getUniform(0,1,i)<=e&&n.push(i)}return n}}]),t}(e)},m=function(e){return function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"compatRandomIndexCalculation",value:function(e){return this.getHash()%e.length}},{key:"simpleExecute",value:function(){var e=this.getArgList("choices");if(0===e.length)return[];var t=this.compatRandomIndexCalculation(e);return e[t]}}]),t}(e)},_=function(e){return function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"simpleExecute",value:function(){var e=this.getArgList("choices"),t=this.getArgList("weights");if(0===e.length)return[];var n=0,r=t.map(function(e){return n+=e}),i=this.getUniform(0,n);return(0,f.reduce)(r,function(t,n,r){return t?t:i<=n?e[r]:t},null)}}]),t}(e)},d=function(e){return function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"compatSampleIndexCalculation",value:function(e){return this.getHash(e)%(e+1)}},{key:"compatAllowSampleStoppingPoint",value:function(){return!0}},{key:"sample",value:function(e,t){for(var n=e.length,r=n-t,i=this.compatAllowSampleStoppingPoint(),o=n-1;o>0;o--){var u=this.compatSampleIndexCalculation(o),a=e[o];if(e[o]=e[u],e[u]=a,i&&r===o)return e.slice(o,n)}return e.slice(0,t)}},{key:"simpleExecute",value:function(){var e=(0,f.shallowCopy)(this.getArgList("choices")),t=0;return t=void 0!==this.args.draws?this.getArgNumber("draws"):e.length,this.sample(e,t)}}]),t}(e)};t["default"]={PlanOutOpRandom:p,SampleBuilder:d,Sample:d(p),WeightedChoiceBuilder:_,WeightedChoice:_(p),UniformChoiceBuilder:m,UniformChoice:m(p),BernoulliFilterBuilder:v,BernoulliFilter:v(p),BernoulliTrialBuilder:y,BernoulliTrial:y(p),RandomIntegerBuilder:g,RandomInteger:g(p),RandomFloatBuilder:h,RandomFloat:h(p)},e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PlanOutOpUnary=t.PlanOutOpBinary=t.PlanOutOpCommutative=t.PlanOutOpSimple=t.PlanOutOp=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),s=function(){function e(t){o(this,e),this.args=t}return u(e,[{key:"execute",value:function(e){throw"Implement the execute function"}},{key:"dumpArgs",value:function(){console.log(this.args)}},{key:"getArgMixed",value:function(e){if(void 0===this.args[e])throw"Missing argument "+e;return this.args[e]}},{key:"getArgNumber",value:function(e){var t=this.getArgMixed(e);if("number"!=typeof t)throw e+" is not a number.";return t}},{key:"getArgString",value:function(e){var t=this.getArgMixed(e);if("string"!=typeof t)throw e+" is not a string.";return t}},{key:"getArgList",value:function(e){var t=this.getArgMixed(e);if("[object Array]"!==Object.prototype.toString.call(t))throw e+" is not a list";return t}},{key:"getArgObject",value:function(e){var t=this.getArgMixed(e);if("[object Object]"!==Object.prototype.toString.call(t))throw e+" is not an object.";return t}},{key:"getArgIndexish",value:function(e){var t=this.getArgMixed(e),n=Object.prototype.toString.call(t);if("[object Object]"!==n&&"[object Array]"!==n)throw e+" is not an list or object.";return t}}]),e}(),l=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"execute",value:function(e){this.mapper=e;var t=this;return(0,a.forEach)(Object.keys(this.args),function(n){t.args[n]=e.evaluate(t.args[n])}),this.simpleExecute()}}]),t}(s),c=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"simpleExecute",value:function(){return this.unaryExecute(this.getArgMixed("value"))}},{key:"getUnaryString",value:function(){return this.args.op}},{key:"unaryExecute",value:function(e){throw"implement unaryExecute"}}]),t}(l),f=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"simpleExecute",value:function(){var e=this.getArgMixed("left"),t=this.getArgMixed("right");return this.binaryExecute(e,t)}},{key:"getInfixString",value:function(){return this.args.op}},{key:"binaryExecute",value:function(e,t){throw"implement binaryExecute"}}]),t}(l),p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"simpleExecute",value:function(){return this.commutativeExecute(this.getArgList("values"))}},{key:"getCommutativeString",value:function(){return this.args.op}},{key:"commutativeExecute",value:function(e){throw"implement commutativeExecute"}}]),t}(l);t.PlanOutOp=s,t.PlanOutOpSimple=l,t.PlanOutOpCommutative=p,t.PlanOutOpBinary=f,t.PlanOutOpUnary=c},function(e,t){"use strict";function n(e,t){var n=M.length,r=e.constructor,i=l(r)&&r.prototype||Object.Prototype,o="constructor";for(S(e,o)&&!L(t,o)&&t.push(o);n--;)o=M[n],o in e&&e[o]!==i[o]&&!L(t,o)&&t.push(o)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e){return e.replace(/^\s+|\s+$/g,"")},o=function(e){var t,n="undefined"!=typeof location,r="undefined"!=typeof window;if(n){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)"),o=i.exec(location.search);t=null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))}else t="";return null!==t&&void 0!==t&&0!==t.length||!r||void 0===window.localStorage||null===window.localStorage?t:window.localStorage.getItem(e)},u=function I(e){var t=e;if(e&&"object"===("undefined"==typeof e?"undefined":r(e))){t="[object Array]"===Object.prototype.toString.call(e)?[]:{};for(var n in e)t[n]=I(e[n])}return t},a=function(e){var t="undefined"==typeof e?"undefined":r(e);return"function"===t||"object"===t&&!!e},s=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},l=function(e){return"function"==typeof e||!1},c=function q(e){if(!a(e))return[];if(Object.keys)return Object.keys(e);var q=[];for(var t in e)S(e,t)&&q.push(t);return A&&n(e,q),q},f=function(e){if(!a(e))return[];var t=[];for(var r in e)t.push(r);return A&&n(e,t),t},p=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],u=e(o),a=u.length,s=0;s<a;s++){var l=u[s];t&&void 0!==n[l]||(n[l]=o[l])}return n}},h=p(f),g=p(c),y=function(e){return e},v=function(e,t){var n=n(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var u=n[o];if(t[u]!==i[u]||!(u in i))return!1}return!0},m=function(e){return e=g({},e),function(t){return v(t,e)}},_=function(e,t,n){return null==e?y:l(e)?d(e,t,n):a(e)?m(e):k(e)},d=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},O=function(e,t,n){t=d(t,n);var r,i;if(w(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=c(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},x=function(e,t,n){t=_(t,n);for(var r=!w(e)&&c(e),i=(r||e).length,o=Array(i),u=0;u<i;u++){var a=r?r[u]:u;o[u]=t(e[a],a,e)}return o},b=function(e,t,n,r){t=d(t,r,4);var i=!w(e)&&c(e),o=(i||e).length,u=0;for(arguments.length<3&&(n=e[i?i[u]:u],u+=1);u>=0&&u<o;u++){var a=i?i[u]:u;n=t(n,e[a],a,e)}return n},E=function(e){return a(e)?s(e)?e.slice():h({},e):e},k=function(e){return function(t){return null==t?void 0:t[e]}},P=Math.pow(2,53)-1,j=k("length"),w=function(e){var t=j(e);return"number"==typeof t&&t>=0&&t<=P},S=function(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)},A=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],L=function(e,t,n,r){return w(e)||(e=N(e)),("number"!=typeof n||r)&&(n=0),e.indexOf(t)>=0},N=function(e){for(var t=c(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},C=function(e){for(var t=[],n=0;n<e;n++)t.push(n);return t},T=function(e,t){return"undefined"!=typeof e[t]};t["default"]={deepCopy:u,map:x,reduce:b,getParameterByName:o,forEach:O,isFunction:l,trimTrailingWhitespace:i,hasKey:T,shallowCopy:E,extend:h,isObject:a,isArray:s,range:C},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};n.hash=function(e){e=unescape(encodeURIComponent(e));var t=[1518500249,1859775393,2400959708,3395469782];e+=String.fromCharCode(128);for(var r=e.length/4+2,i=Math.ceil(r/16),o=new Array(i),u=0;u<i;u++){o[u]=new Array(16);for(var a=0;a<16;a++)o[u][a]=e.charCodeAt(64*u+4*a)<<24|e.charCodeAt(64*u+4*a+1)<<16|e.charCodeAt(64*u+4*a+2)<<8|e.charCodeAt(64*u+4*a+3)}o[i-1][14]=8*(e.length-1)/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=8*(e.length-1)&4294967295;for(var s,l,c,f,p,h=1732584193,g=4023233417,y=2562383102,v=271733878,m=3285377520,_=new Array(80),u=0;u<i;u++){for(var d=0;d<16;d++)_[d]=o[u][d];for(var d=16;d<80;d++)_[d]=n.ROTL(_[d-3]^_[d-8]^_[d-14]^_[d-16],1);s=h,l=g,c=y,f=v,p=m;for(var d=0;d<80;d++){var O=Math.floor(d/20),x=n.ROTL(s,5)+n.f(O,l,c,f)+p+t[O]+_[d]&4294967295;p=f,f=c,c=n.ROTL(l,30),l=s,s=x}h=h+s&4294967295,g=g+l&4294967295,y=y+c&4294967295,v=v+f&4294967295,m=m+p&4294967295}return n.toHexStr(h)+n.toHexStr(g)+n.toHexStr(y)+n.toHexStr(v)+n.toHexStr(m)},n.f=function(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}},n.ROTL=function(e,t){return e<<t|e>>>32-t},n.toHexStr=function(e){for(var t,n="",r=7;r>=0;r--)t=e>>>4*r&15,n+=t.toString(16);return n},t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),a=r(u),s=n(8),l=n(5),c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global_salt",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3];i(this,e),this._serialization=t,o?this._env=o:this._env=new a["default"](n),this.experimentSalt=this._experimentSalt=n,this._evaluated=!1,this._inExperiment=!1,this._inputs=(0,l.shallowCopy)(r)}return o(e,[{key:"inExperiment",value:function(){return this._inExperiment}},{key:"setEnv",value:function(e){return this._env=(0,l.deepCopy)(e),this}},{key:"has",value:function(e){return this._env[e]}},{key:"get",value:function(e,t){var n=this._inputs[e];null!==n&&void 0!==n||(n=t);var r=this._env.get(e);return void 0!==r&&null!==r?r:n}},{key:"getParams",value:function(){if(!this._evaluated){try{this.evaluate(this._serialization)}catch(e){e instanceof s.StopPlanOutException&&(this._inExperiment=e.inExperiment)}this._evaluated=!0}return this._env.getParams()}},{key:"set",value:function(e,t){return this._env.set(e,t),this}},{key:"getSaltSeparator",value:function(){return this._env.saltSeparator}},{key:"setOverrides",value:function(e){return this._env.setOverrides(e),this}},{key:"getOverrides",value:function(){return this._env.getOverrides()}},{key:"hasOverride",value:function(e){var t=this.getOverrides();return t&&void 0!==t[e]}},{key:"registerCustomOperators",value:function(e){(0,s.registerOperators)(e)}},{key:"evaluate",value:function(e){if((0,l.isObject)(e)&&e.op)return(0,s.operatorInstance)(e).execute(this);if((0,l.isArray)(e)){var t=this;return(0,l.map)(e,function(e){return t.evaluate(e)})}return e}}]),e}();t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.registerOperators=t.StopPlanOutException=t.operatorInstance=t.isOperator=t.initFactory=t.operators=void 0;var o=n(9),u=r(o),a=n(3),s=r(a),l=n(5),c=function(){return{literal:u.Literal,get:u.Get,set:u.Set,seq:u.Seq,"return":u.Return,index:u.Index,array:u.Arr,equals:u.Equals,and:u.And,or:u.Or,">":u.GreaterThan,"<":u.LessThan,">=":u.GreaterThanOrEqualTo,"<=":u.LessThanOrEqualTo,"%":u.Mod,"/":u.Divide,not:u.Not,round:u.Round,negative:u.Negative,min:u.Min,max:u.Max,length:u.Length,coalesce:u.Coalesce,map:u.Map,cond:u.Cond,product:u.Product,sum:u.Sum,randomFloat:s.RandomFloat,randomInteger:s.RandomInteger,bernoulliTrial:s.BernoulliTrial,bernoulliFilter:s.BernoulliFilter,uniformChoice:s.UniformChoice,weightedChoice:s.WeightedChoice,sample:s.Sample}},f=c(),p=function(e){return(0,l.isObject)(e)&&e.op},h=function(e){var t=e.op;if(!f[t])throw"Unknown Operator "+t;return new f[t](e)},g=function(e){(0,l.forEach)(e,function(e,t){if(f[t])throw t+" already is defined";f[t]=e})},y=function v(e){i(this,v),this.inExperiment=e};t.operators=f,t.initFactory=c,t.isOperator=p,t.operatorInstance=h,t.StopPlanOutException=y,t.registerOperators=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Return=t.Length=t.Max=t.Min=t.Negative=t.Not=t.Round=t.Divide=t.Mod=t.GreaterThanOrEqualTo=t.LessThanOrEqualTo=t.LessThan=t.GreaterThan=t.Equals=t.Sum=t.Product=t.Or=t.And=t.Cond=t.Index=t.Coalesce=t.Map=t.Arr=t.Set=t.Seq=t.Get=t.Literal=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),s=n(8),l=n(5),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"execute",value:function(e){return this.getArgMixed("value")}}]),t}(a.PlanOutOp),f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"execute",value:function(e){return e.get(this.getArgString("var"))}}]),t}(a.PlanOutOp),p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"execute",value:function(e){(0,l.forEach)(this.getArgList("seq"),function(t){e.evaluate(t)})}}]),t}(a.PlanOutOp),h=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"execute",value:function(e){var t=e.evaluate(this.getArgMixed("value")),n=!1;throw t&&(n=!0),new s.StopPlanOutException(n)}}]),t}(a.PlanOutOp),g=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"execute",value:function(e){var t=this.getArgString("var"),n=this.getArgMixed("value");e.hasOverride(t)||(n&&(0,s.isOperator)(n)&&!n.salt&&(n.salt=t),"experimentSalt"==t&&(e.experimentSalt=n),e.set(t,e.evaluate(n)))}}]),t}(a.PlanOutOp),y=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"execute",value:function(e){return(0,l.map)(this.getArgList("values"),function(t){return e.evaluate(t)})}}]),t}(a.PlanOutOp),v=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"execute",value:function(e){for(var t=this.getArgList("values"),n=0;n<t.length;n++){var r=t[n],i=e.evaluate(r);if(null!==i&&void 0!==i)return i}return null}}]),t}(a.PlanOutOp),m=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"simpleExecute",value:function(){var e=this.getArgIndexish("base"),t=this.getArgMixed("index");return"number"==typeof t?t>=0&&t<e.length?e[t]:void 0:e[t]}}]),t}(a.PlanOutOpSimple),_=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"execute",value:function(e){var t=this.getArgList("cond");for(var n in t){var r=t[n]["if"],i=t[n].then;if(e.evaluate(r))return e.evaluate(i)}return null}}]),t}(a.PlanOutOp),d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"execute",value:function(e){return(0,l.reduce)(this.getArgList("values"),function(t,n){return t?Boolean(e.evaluate(n)):t},!0)}}]),t}(a.PlanOutOp),O=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"execute",value:function(e){return(0,l.reduce)(this.getArgList("values"),function(t,n){return t?t:Boolean(e.evaluate(n))},!1)}}]),t}(a.PlanOutOp),x=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"commutativeExecute",value:function(e){return(0,l.reduce)(e,function(e,t){return e*t},1)}}]),t}(a.PlanOutOpCommutative),b=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"commutativeExecute",value:function(e){return(0,l.reduce)(e,function(e,t){return e+t},0)}}]),t}(a.PlanOutOpCommutative),E=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"getInfixString",value:function(){return"=="}},{key:"binaryExecute",value:function(e,t){return e===t}}]),t}(a.PlanOutOpBinary),k=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"binaryExecute",value:function(e,t){return e>t}}]),t}(a.PlanOutOpBinary),P=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"binaryExecute",value:function(e,t){return e<t}}]),t}(a.PlanOutOpBinary),j=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"binaryExecute",value:function(e,t){return e<=t}}]),t}(a.PlanOutOpBinary),w=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"binaryExecute",value:function(e,t){return e>=t}}]),t}(a.PlanOutOpBinary),S=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"binaryExecute",value:function(e,t){return e%t}}]),t}(a.PlanOutOpBinary),A=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"binaryExecute",value:function(e,t){return parseFloat(e)/parseFloat(t)}}]),t}(a.PlanOutOpBinary),M=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"unaryExecute",value:function(e){return Math.round(e)}}]),t}(a.PlanOutOpUnary),L=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"getUnaryString",value:function(){return"!"}},{key:"unaryExecute",value:function(e){return!e}}]),t}(a.PlanOutOpUnary),N=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"getUnaryString",value:function(){return"-"}},{key:"unaryExecute",value:function(e){return 0-e}}]),t}(a.PlanOutOpUnary),C=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"commutativeExecute",value:function(e){return Math.min.apply(null,e)}}]),t}(a.PlanOutOpCommutative),T=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"commutativeExecute",value:function(e){return Math.max.apply(null,e);
}}]),t}(a.PlanOutOpCommutative),I=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"unaryExecute",value:function(e){return e.length}}]),t}(a.PlanOutOpUnary),q=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"simpleExecute",value:function(){var e=(0,l.deepCopy)(this.args);return delete e.op,delete e.salt,e}}]),t}(a.PlanOutOpSimple);t.Literal=c,t.Get=f,t.Seq=p,t.Set=g,t.Arr=y,t.Map=q,t.Coalesce=v,t.Index=m,t.Cond=_,t.And=d,t.Or=O,t.Product=x,t.Sum=b,t.Equals=E,t.GreaterThan=k,t.LessThan=P,t.LessThanOrEqualTo=j,t.GreaterThanOrEqualTo=w,t.Mod=S,t.Divide=A,t.Round=M,t.Not=L,t.Negative=N,t.Min=C,t.Max=T,t.Length=I,t.Return=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleNamespace=t.Namespace=void 0;var a=function d(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:d(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),f=n(2),p=r(f),h=n(3),g=n(5),y=n(11),v=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"configureLogger",value:function(){}},{key:"setup",value:function(){this.name="test_name"}},{key:"log",value:function(e){}},{key:"getParamNames",value:function(){return this.getDefaultParamNames()}},{key:"previouslyLogged",value:function(){return!0}},{key:"assign",value:function(e,t){}}]),t}(c["default"]),m=function(){function e(){i(this,e)}return s(e,[{key:"addExperiment",value:function(e,t,n){throw"IMPLEMENT addExperiment"}},{key:"removeExperiment",value:function(e){throw"IMPLEMENT removeExperiment"}},{key:"setAutoExposureLogging",value:function(e){throw"IMPLEMENT setAutoExposureLogging"}},{key:"inExperiment",value:function(){throw"IMPLEMENT inExperiment"}},{key:"get",value:function(e,t){throw"IMPLEMENT get"}},{key:"logExposure",value:function(e){throw"IMPLEMENT logExposure"}},{key:"logEvent",value:function(e,t){throw"IMPLEMENT logEvent"}},{key:"requireExperiment",value:function(){this._experiment||this._assignExperiment()}},{key:"requireDefaultExperiment",value:function(){this._defaultExperiment||this._assignDefaultExperiment()}}]),e}(),_=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name=n.getDefaultNamespaceName(),n.inputs=e||{},n.numSegments=1,n.segmentAllocations={},n.currentExperiments={},n._experiment=null,n._defaultExperiment=null,n.defaultExperimentClass=v,n._inExperiment=!1,n.setupDefaults(),n.setup(),n.availableSegments=(0,g.range)(n.numSegments),n.setupExperiments(),n}return u(t,e),s(t,[{key:"setupDefaults",value:function(){}},{key:"setup",value:function(){throw"IMPLEMENT setup"}},{key:"setupExperiments",value:function(){throw"IMPLEMENT setupExperiments"}},{key:"getPrimaryUnit",value:function(){return this._primaryUnit}},{key:"allowedOverride",value:function(){return!1}},{key:"getOverrides",value:function(){return{}}},{key:"setPrimaryUnit",value:function(e){this._primaryUnit=e}},{key:"addExperiment",value:function(e,t,n){var r=this.availableSegments.length;if(r<n)return!1;if(void 0!==this.currentExperiments[e])return!1;var i=new p["default"](this.name);i.set("sampled_segments",new h.Sample({choices:this.availableSegments,draws:n,unit:e}));for(var o=i.get("sampled_segments"),u=0;u<o.length;u++){this.segmentAllocations[o[u]]=e;var a=this.availableSegments.indexOf(o[u]);this.availableSegments[a]=this.availableSegments[r-1],this.availableSegments.splice(r-1,1),r-=1}this.currentExperiments[e]=t}},{key:"removeExperiment",value:function(e){var t=this;return void 0!==this.currentExperiments[e]&&((0,g.forEach)(Object.keys(this.segmentAllocations),function(n){t.segmentAllocations[n]===e&&(delete t.segmentAllocations[n],t.availableSegments.push(n))}),delete this.currentExperiments[e],!0)}},{key:"getSegment",value:function(){var e=new p["default"](this.name),t=new h.RandomInteger({min:0,max:this.numSegments-1,unit:this.inputs[this.getPrimaryUnit()]});return e.set("segment",t),e.get("segment")}},{key:"_assignExperiment",value:function(){this.inputs=(0,g.extend)(this.inputs,(0,y.getExperimentInputs)(this.getName()));var e=this.getSegment();if(void 0!==this.segmentAllocations[e]){var t=this.segmentAllocations[e];this._assignExperimentObject(t)}}},{key:"_assignExperimentObject",value:function(e){var t=new this.currentExperiments[e](this.inputs);t.setName(this.getName()+"-"+e),t.setSalt(this.getName()+"-"+e),this._experiment=t,this._inExperiment=t.inExperiment(),this._inExperiment||this._assignDefaultExperiment()}},{key:"_assignDefaultExperiment",value:function(){this._defaultExperiment=new this.defaultExperimentClass(this.inputs)}},{key:"defaultGet",value:function(e,n){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"requireDefaultExperiment",this).call(this),this._defaultExperiment.get(e,n)}},{key:"getName",value:function(){return this.name}},{key:"setName",value:function(e){this.name=e}},{key:"previouslyLogged",value:function(){return this._experiment?this._experiment.previouslyLogged():null}},{key:"inExperiment",value:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"requireExperiment",this).call(this),this._inExperiment}},{key:"setAutoExposureLogging",value:function(e){this._autoExposureLoggingSet=e,this._defaultExperiment&&this._defaultExperiment.setAutoExposureLogging(e),this._experiment&&this._experiment.setAutoExposureLogging(e)}},{key:"setGlobalOverride",value:function(e){var t=this.getOverrides();if(t&&(0,g.hasKey)(t,e)){var n=t[e];n&&(0,g.hasKey)(this.currentExperiments,n.experimentName)&&(this._assignExperimentObject(n.experimentName),this._experiment.addOverride(e,n.value))}}},{key:"setLocalOverride",value:function(e){var t=(0,g.getParameterByName)("experimentOverride");t&&(0,g.hasKey)(this.currentExperiments,t)&&(this._assignExperimentObject(t),(0,g.getParameterByName)(e)&&this._experiment.addOverride(e,(0,g.getParameterByName)(e)))}},{key:"getParams",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"requireExperiment",this).call(this),this._experiment&&this.getOriginalExperimentName()===e?this._experiment.getParams():null}},{key:"getOriginalExperimentName",value:function(){return this._experiment?this._experiment.getName().split("-")[1]:null}},{key:"get",value:function(e,n){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"requireExperiment",this).call(this),this.allowedOverride()&&this.setGlobalOverride(e),this.setLocalOverride(e),this._experiment?(void 0!==this._autoExposureLoggingSet&&this._experiment.setAutoExposureLogging(this._autoExposureLoggingSet),this._experiment.get(e,this.defaultGet(e,n))):this.defaultGet(e,n)}},{key:"logExposure",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"requireExperiment",this).call(this),this._experiment&&this._experiment.logExposure(e)}},{key:"logEvent",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"requireExperiment",this).call(this),this._experiment&&this._experiment.logEvent(e,n)}},{key:"getDefaultNamespaceName",value:function(){if((0,g.isObject)(this)&&this.constructor&&this!==this.window){var e=this.constructor.toString().match(/function\s*(\w+)/);if(e&&2===e.length)return e[1]}return"GenericNamespace"}}]),t}(m);t.Namespace=m,t.SimpleNamespace=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i={},o={},u=function(e){return e?a((0,r.shallowCopy)(e)):{}},a=function(e){return(0,r.forEach)(Object.keys(e),function(t){(0,r.isFunction)(e[t])&&(e[t]=e[t]())}),e},s=function(e,t,n){n?(o[n]||(o[n]={}),o[n][e]=t):i[e]=t},l=function(e){var t=u(i);return e&&o[e]?(0,r.extend)(t,u(o[e])):t};t["default"]={registerExperimentInput:s,getExperimentInputs:l},e.exports=t["default"]}])});